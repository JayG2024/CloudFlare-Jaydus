<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jaydus AI - Advanced AI Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide icons removed for stability -->
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
        }
        .app { display: flex; height: 100vh; }
        
        /* Enhanced Sidebar */
        .sidebar {
            width: 256px; 
            background: linear-gradient(180deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            color: white; display: flex; flex-direction: column;
            box-shadow: 4px 0 20px rgba(0,0,0,0.15);
        }
        .logo { 
            padding: 24px; border-bottom: 1px solid rgba(255,255,255,0.1); 
            display: flex; align-items: center; gap: 12px; 
        }
        .logo-icon { 
            width: 32px; height: 32px; 
            background: linear-gradient(135deg, #06b6d4, #3b82f6); 
            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
        }
        .logo-text { font-size: 20px; font-weight: 700; }
        .nav { flex: 1; padding: 16px 12px; overflow-y: hidden; }
        .nav-item {
            display: flex; align-items: center; gap: 10px; padding: 10px 12px; margin: 1px 0;
            border-radius: 8px; cursor: pointer; transition: all 0.3s ease; 
            color: rgba(255,255,255,0.7); font-size: 13px; font-weight: 500;
            position: relative; overflow: hidden;
        }
        .nav-item::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s ease;
        }
        .nav-item:hover::before { left: 100%; }
        .nav-item:hover { background: rgba(255,255,255,0.1); color: white; transform: translateX(4px); }
        .nav-item.active { 
            background: linear-gradient(135deg, #06b6d4, #0891b2); color: white; 
            box-shadow: 0 4px 12px rgba(6,182,212,0.3); transform: translateX(4px);
        }
        .nav-label { 
            font-size: 11px; font-weight: 600; color: rgba(255,255,255,0.5); 
            text-transform: uppercase; margin: 12px 12px 6px; letter-spacing: 0.5px;
        }
        .sidebar-footer {
            padding: 16px; 
            border-top: 1px solid rgba(255,255,255,0.1); 
            display: flex; 
            align-items: center; 
            gap: 12px;
            margin-top: auto;
            flex-shrink: 0;
        }
        .main { flex: 1; background: #f8fafc; overflow: hidden; }
        
        /* Enhanced Dashboard */
        .dashboard { padding: 32px; overflow-y: auto; height: 100vh; }
        .dashboard h1 { font-size: 32px; font-weight: 800; color: #0f172a; margin-bottom: 8px; }
        .dashboard p { color: #64748b; margin-bottom: 32px; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; margin-bottom: 32px; }
        .stat {
            background: white; border-radius: 8px; padding: 24px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .stat::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
            background: linear-gradient(90deg, #06b6d4, #3b82f6); transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        .stat:hover::before { transform: scaleX(1); }
        .stat:hover { transform: translateY(-4px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
        .stat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .stat-value { font-size: 36px; font-weight: 800; color: #0f172a; }
        .stat-icon { 
            width: 40px; height: 40px; border-radius: 6px; display: flex; 
            align-items: center; justify-content: center; font-size: 18px;
            background: #f8fafc !important; color: #64748b !important;
        }
        .stat-label { color: #64748b; font-size: 14px; margin-bottom: 8px; }
        .stat-change { color: #10b981; font-size: 14px; font-weight: 600; }
        
        /* Enhanced Chat */
        .chat { height: 100vh; display: flex; flex-direction: column; background: white; }
        .chat-header { 
            padding: 24px 32px; border-bottom: 1px solid #e2e8f0; 
            display: flex; justify-content: space-between; align-items: center; 
            background: linear-gradient(135deg, #ffffff, #f8fafc);
        }
        .chat-title { font-size: 24px; font-weight: 700; color: #0f172a; }
        .btn { 
            display: flex; align-items: center; gap: 8px; padding: 12px 20px; 
            border: 1.5px solid #e2e8f0; background: white; border-radius: 12px; 
            cursor: pointer; font-size: 14px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            font-weight: 500; min-height: 44px; box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        .btn:hover { 
            background: #f8fafc; transform: translateY(-2px); 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-color: #0891b2;
        }
        .btn.primary { 
            background: linear-gradient(135deg, #0891b2, #0e7490); color: white; border: none; 
            box-shadow: 0 4px 12px rgba(8,145,178,0.25);
        }
        .btn.primary:hover { 
            background: linear-gradient(135deg, #0e7490, #155e75); 
            box-shadow: 0 6px 20px rgba(8,145,178,0.35);
        }
        
        /* Enhanced Models */
        .welcome { 
            flex: 1; display: flex; flex-direction: column; justify-content: center; 
            align-items: center; padding: 48px; text-align: center; 
        }
        .welcome h2 { font-size: 48px; font-weight: 800; color: #0f172a; margin-bottom: 16px; }
        .welcome p { font-size: 18px; color: #64748b; margin-bottom: 48px; max-width: 600px; }
        .models { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; max-width: 900px; }
        .model {
            padding: 32px 24px; border: 2px solid #e2e8f0; border-radius: 16px; cursor: pointer;
            transition: all 0.3s ease; background: white; text-align: center; position: relative;
            overflow: hidden;
        }
        .model::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, rgba(6,182,212,0.05), rgba(59,130,246,0.05));
            opacity: 0; transition: opacity 0.3s ease;
        }
        .model:hover::before { opacity: 1; }
        .model:hover { border-color: #06b6d4; transform: translateY(-4px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
        .model.selected { 
            border-color: #06b6d4; background: linear-gradient(135deg, #f0fdfa, #ecfeff); 
            box-shadow: 0 10px 15px -3px rgba(6,182,212,0.2);
        }
        .model-icon { font-size: 48px; margin-bottom: 16px; }
        .model-name { font-size: 18px; font-weight: 700; color: #0f172a; margin-bottom: 8px; }
        .model-desc { color: #64748b; font-size: 14px; }
        
        /* Messages & Input */
        .messages { flex: 1; overflow-y: auto; padding: 24px 32px; }
        .message { display: flex; margin-bottom: 24px; animation: fadeInUp 0.3s ease; }
        .message.user { justify-content: flex-end; }
        .message-bubble {
            max-width: 70%; padding: 16px 20px; border-radius: 16px; font-size: 15px; 
            line-height: 1.6; position: relative; box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .message.user .message-bubble { 
            background: linear-gradient(135deg, #06b6d4, #0891b2); color: white; 
            border-bottom-right-radius: 4px;
        }
        .message.assistant .message-bubble { 
            background: #f1f5f9; color: #0f172a; border-bottom-left-radius: 4px; 
        }
        .input-area { padding: 24px 32px; border-top: 1px solid #e2e8f0; background: white; }
        .input-container {
            display: flex; align-items: flex-end; gap: 12px; background: #f8fafc;
            border: 2px solid #e2e8f0; border-radius: 16px; padding: 16px; transition: border-color 0.2s;
        }
        .input-container:focus-within { border-color: #06b6d4; box-shadow: 0 0 0 3px rgba(6,182,212,0.1); }
        .input { 
            flex: 1; border: none; background: transparent; outline: none; font-size: 15px;
            resize: none; min-height: 20px; max-height: 120px;
        }
        .input-btn {
            width: 40px; height: 40px; border: none; border-radius: 10px; cursor: pointer;
            display: flex; align-items: center; justify-content: center; 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .input-btn.secondary { 
            background: #f1f5f9; color: #64748b; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        .input-btn.secondary:hover { 
            background: #e2e8f0; color: #475569; transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .input-btn.primary { 
            background: linear-gradient(135deg, #0891b2, #0e7490); color: white; 
            box-shadow: 0 4px 12px rgba(8,145,178,0.25);
        }
        .input-btn.primary:hover { 
            background: linear-gradient(135deg, #0e7490, #155e75); 
            transform: translateY(-1px); box-shadow: 0 6px 16px rgba(8,145,178,0.35);
        }
        .input-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* Enhanced Form Styles */
        .page-container { padding: 32px; overflow-y: auto; height: 100vh; }
        .page-header { margin-bottom: 32px; }
        .page-title { font-size: 32px; font-weight: 800; color: #0f172a; margin-bottom: 8px; }
        .page-subtitle { color: #64748b; font-size: 16px; }
        .form-card { 
            background: white; border-radius: 8px; padding: 24px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; 
            margin-bottom: 24px; transition: all 0.3s ease;
        }
        .form-card:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 20px; }
        .form-label { 
            display: block; font-weight: 600; color: #0f172a; margin-bottom: 8px; 
            font-size: 14px;
        }
        .form-input {
            width: 100%; padding: 12px 16px; border: 2px solid #e2e8f0; border-radius: 8px;
            font-size: 14px; outline: none; transition: all 0.2s; background: white;
        }
        .form-input:focus { border-color: #06b6d4; box-shadow: 0 0 0 3px rgba(6,182,212,0.1); }
        .form-textarea { min-height: 100px; resize: vertical; }
        .form-select { appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 12px center; background-size: 16px; }
        .generate-btn, .action-btn {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; border: none;
            padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer;
            transition: all 0.2s; display: flex; align-items: center; gap: 8px;
        }
        .generate-btn:hover, .action-btn:hover { 
            background: linear-gradient(135deg, #7c3aed, #6d28d9); transform: translateY(-1px); 
        }
        .generate-btn:disabled, .action-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        
        /* Model Selector */
        .model-selector { display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
        .model-btn {
            padding: 10px 16px; border: 2px solid #e2e8f0; background: white; border-radius: 10px;
            cursor: pointer; font-size: 13px; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            font-weight: 500; display: flex; align-items: center; gap: 8px;
            min-height: 40px; box-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }
        .model-btn:hover { 
            border-color: #0891b2; background: #f0fdfa; transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .model-btn.active { 
            background: linear-gradient(135deg, #0891b2, #0e7490); color: white; 
            border-color: #0891b2; box-shadow: 0 4px 12px rgba(8,145,178,0.25);
        }
        
        /* Animations */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }
        .cursor { display: inline-block; width: 2px; height: 1.2em; background: #06b6d4; margin-left: 2px; animation: blink 1s infinite; }
        .loading { animation: pulse 2s infinite; }
        
        /* Enhanced Cards */
        .feature-card {
            background: white; border-radius: 8px; padding: 24px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e2e8f0;
            transition: all 0.3s ease; cursor: pointer; position: relative; overflow: hidden;
        }
        .feature-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
            background: linear-gradient(90deg, #06b6d4, #3b82f6); transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        .feature-card:hover::before { transform: scaleX(1); }
        .feature-card:hover { transform: translateY(-4px); box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
        
        /* Enhanced Lists */
        .list-item {
            display: flex; align-items: center; justify-content: space-between; padding: 16px 20px;
            border: 1px solid #e2e8f0; border-radius: 12px; margin-bottom: 12px;
            background: white; transition: all 0.2s ease;
        }
        .list-item:hover { background: #f8fafc; border-color: #06b6d4; transform: translateX(4px); }
        
        /* Image Studio Styles */
        .image-studio {
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }
        .image-studio-header {
            padding: 24px 32px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .image-studio-title-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .image-studio-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        .image-studio-title {
            font-size: 28px;
            font-weight: 800;
            color: #0f172a;
            margin: 0;
        }
        .image-studio-subtitle {
            color: #64748b;
            margin: 4px 0 0 0;
            font-size: 16px;
        }
        .image-studio-content {
            display: flex;
            flex: 1;
            gap: 24px;
            padding: 24px 32px 40px 32px;
            overflow: hidden;
        }
        .image-studio-panel {
            width: 400px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
            padding-bottom: 20px;
        }
        .image-studio-card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
        .image-studio-card-title {
            font-size: 18px;
            font-weight: 700;
            color: #0f172a;
            margin: 0 0 20px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .form-row {
            display: flex;
            gap: 16px;
        }
        .form-row .form-group {
            flex: 1;
        }
        .quality-selector {
            display: flex;
            gap: 12px;
        }
        .quality-option {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .quality-option input[type="radio"] {
            margin: 0;
        }
        .quality-option label {
            font-size: 14px;
            color: #64748b;
            cursor: pointer;
        }
        .image-generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border: none;
            padding: 16px 24px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 8px;
        }
        .image-generate-btn:hover {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }
        .image-generate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .image-error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 12px 16px;
            border-radius: 8px;
            margin-top: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        .recent-images {
            min-height: 120px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        .recent-image-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e2e8f0;
        }
        .recent-image-item:hover {
            background: #f8fafc;
            border-color: #06b6d4;
        }
        .recent-image-thumb {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            object-fit: cover;
        }
        .recent-image-info {
            flex: 1;
            min-width: 0;
        }
        .recent-image-model {
            font-size: 11px;
            color: #06b6d4;
            font-weight: 600;
            margin-bottom: 2px;
        }
        .recent-image-prompt {
            font-size: 12px;
            color: #64748b;
            line-height: 1.3;
        }
        .recent-image-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: #94a3b8;
            text-align: center;
        }
        .recent-image-placeholder span {
            font-size: 14px;
        }
        .image-studio-preview {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .image-preview-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 24px;
        }
        .generated-image {
            flex: 1;
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
        }
        .image-actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            justify-content: center;
        }
        .image-action-btn {
            padding: 12px 20px;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #64748b;
        }
        .image-action-btn:hover {
            border-color: #06b6d4;
            color: #06b6d4;
            transform: translateY(-1px);
        }
        .image-action-btn.primary {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
            border-color: transparent;
        }
        .image-action-btn.primary:hover {
            background: linear-gradient(135deg, #0891b2, #0e7490);
            color: white;
        }
        .image-preview-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #94a3b8;
            padding: 60px;
        }
        .preview-icon {
            margin-bottom: 24px;
            opacity: 0.5;
        }
        .image-preview-placeholder h3 {
            font-size: 24px;
            font-weight: 600;
            margin: 0 0 12px 0;
            color: #64748b;
        }
        .image-preview-placeholder p {
            font-size: 16px;
            margin: 0;
            max-width: 400px;
            line-height: 1.5;
        }

        /* Integration Cards */
        .integration-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        .integration-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .integration-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        .integration-logo {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            object-fit: contain;
            opacity: 0.6;
        }
        .integration-info {
            flex: 1;
        }
        .integration-name {
            font-size: 16px;
            font-weight: 600;
            color: #0f172a;
            margin: 0 0 2px 0;
        }
        .integration-category {
            font-size: 12px;
            color: #64748b;
            background: #f1f5f9;
            padding: 2px 8px;
            border-radius: 12px;
            font-weight: 500;
        }
        .integration-description {
            color: #64748b;
            font-size: 14px;
            line-height: 1.4;
            margin: 0 0 16px 0;
        }
        .integration-status {
            display: flex;
            justify-content: flex-end;
        }
        .coming-soon-badge {
            background: #f1f5f9;
            color: #64748b;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid #e2e8f0;
        }

        /* Perplexity-style Search */
        .perplexity-search {
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #fafbfc 0%, #f8fafc 100%);
        }
        .search-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 70vh;
            padding: 40px 32px;
            transition: all 0.4s ease;
        }
        .search-container.has-results {
            min-height: auto;
            padding: 24px 32px 16px;
            justify-content: flex-start;
        }
        .search-header {
            text-align: center;
            margin-bottom: 40px;
        }
        .search-logo {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            color: white;
        }
        .search-title {
            font-size: 32px;
            font-weight: 800;
            color: #0f172a;
            margin: 0 0 8px 0;
        }
        .search-subtitle {
            font-size: 18px;
            color: #64748b;
            margin: 0;
        }
        .search-input-container {
            width: 100%;
            max-width: 640px;
        }
        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            background: white;
            border: 1.5px solid #e2e8f0;
            border-radius: 16px;
            padding: 6px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            backdrop-filter: blur(10px);
        }
        .search-input-wrapper:focus-within {
            border-color: #0891b2;
            box-shadow: 0 0 0 4px rgba(8,145,178,0.12), 0 8px 32px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }
        .search-input-icon {
            margin-left: 16px;
            color: #64748b;
        }
        .search-input {
            flex: 1;
            border: none;
            outline: none;
            padding: 16px 12px;
            font-size: 16px;
            background: transparent;
            color: #0f172a;
        }
        .search-input::placeholder {
            color: #94a3b8;
        }
        .search-submit-btn {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 4px;
        }
        .search-submit-btn:hover {
            background: linear-gradient(135deg, #0891b2, #0e7490);
            transform: translateY(-1px);
        }
        .search-suggestions {
            margin-top: 32px;
            width: 100%;
            max-width: 640px;
        }
        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }
        .suggestion-chip {
            padding: 8px 16px;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            color: #64748b;
            transition: all 0.2s;
            white-space: nowrap;
        }
        .suggestion-chip:hover {
            border-color: #06b6d4;
            color: #06b6d4;
            background: #f0fdfa;
        }
        .search-results {
            flex: 1;
            padding: 0 32px 32px;
            max-width: 850px;
            margin: 0 auto;
            width: 100%;
        }
        .search-answer {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 16px rgba(0,0,0,0.06);
            border: 1px solid #f1f5f9;
            transition: all 0.2s ease;
        }
        .search-answer:hover {
            box-shadow: 0 4px 24px rgba(0,0,0,0.1);
        }
        .search-answer-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            font-weight: 600;
            color: #0f172a;
            font-size: 16px;
        }
        .search-answer-content {
            line-height: 1.7;
            color: #334155;
            font-size: 15px;
        }
        .search-loading {
            margin: 40px 0;
            display: flex;
            justify-content: center;
        }
        .search-loading-content {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px 32px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .search-loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #e2e8f0;
            border-top: 2px solid #06b6d4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        .search-loading-title {
            font-weight: 600;
            color: #0f172a;
            margin-bottom: 4px;
        }
        .search-loading-subtitle {
            font-size: 14px;
            color: #64748b;
        }
        .search-answer {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
        .search-answer-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            color: #06b6d4;
            font-weight: 600;
            font-size: 14px;
        }
        .search-answer-content {
            font-size: 15px;
            line-height: 1.7;
            color: #0f172a;
            white-space: pre-wrap;
        }
        .search-sources {
            margin-top: 32px;
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 16px rgba(0,0,0,0.06);
            border: 1px solid #f1f5f9;
        }
        .search-sources-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            color: #0f172a;
            font-weight: 600;
            font-size: 16px;
        }
        .search-sources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 16px;
        }
        .search-source-card {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 20px;
            background: #fafbfc;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        .search-source-card:hover {
            border-color: #0891b2;
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
            transform: translateY(-3px);
            background: white;
        }
        .search-source-index {
            width: 20px;
            height: 20px;
            background: #06b6d4;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: 600;
            flex-shrink: 0;
        }
        .search-source-content {
            flex: 1;
            min-width: 0;
        }
        .search-source-title {
            font-weight: 600;
            color: #0f172a;
            font-size: 14px;
            line-height: 1.4;
            margin-bottom: 4px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .search-source-domain {
            font-size: 12px;
            color: #06b6d4;
            margin-bottom: 6px;
        }
        .search-source-snippet {
            font-size: 12px;
            color: #64748b;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .search-source-icon {
            color: #94a3b8;
            position: absolute;
            top: 12px;
            right: 12px;
        }

        /* Voice Recorder */
        .voice-recorder {
            display: flex; flex-direction: column; align-items: center; gap: 16px;
            padding: 24px; background: linear-gradient(135deg, #f0fdfa, #ecfeff);
            border-radius: 16px; border: 2px solid #06b6d4;
        }
        .record-btn {
            width: 80px; height: 80px; border-radius: 50%; border: none;
            background: linear-gradient(135deg, #ef4444, #dc2626); color: white;
            cursor: pointer; transition: all 0.3s ease; display: flex;
            align-items: center; justify-content: center; font-size: 24px;
        }
        .record-btn:hover { transform: scale(1.05); }
        .record-btn.recording { animation: pulse 1s infinite; background: linear-gradient(135deg, #dc2626, #b91c1c); }
        
        /* Assistant Card */
        .assistant-card {
            background: white; border-radius: 16px; padding: 20px; border: 2px solid #e2e8f0;
            transition: all 0.3s ease; cursor: pointer; position: relative;
        }
        .assistant-card:hover { border-color: #06b6d4; transform: translateY(-2px); }
        .assistant-avatar {
            width: 48px; height: 48px; border-radius: 12px; 
            background: linear-gradient(135deg, #8b5cf6, #3b82f6);
            display: flex; align-items: center; justify-content: center;
            color: white; font-weight: 600; margin-bottom: 12px;
        }
        
        /* Status Indicators */
        .status-online { color: #10b981; }
        .status-offline { color: #6b7280; }
        .status-busy { color: #f59e0b; }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .models { grid-template-columns: 1fr; }
            .stats { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        }
        @media (max-width: 768px) {
            .sidebar { width: 200px; }
            .page-container { padding: 20px; }
            .model-selector { flex-direction: column; }
        }
        
        /* Error & Success States */
        .error-message {
            background: #fef2f2; border: 1px solid #fecaca; color: #dc2626;
            padding: 12px 16px; border-radius: 8px; margin-top: 16px;
            display: flex; align-items: center; gap: 8px;
        }
        .success-message {
            background: #f0fdf4; border: 1px solid #bbf7d0; color: #15803d;
            padding: 12px 16px; border-radius: 8px; margin-top: 16px;
            display: flex; align-items: center; gap: 8px;
        }

        /* Premium Chat Interface */
        .premium-chat {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }

        /* Premium Header */
        .premium-chat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 32px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid #e2e8f0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .premium-chat-logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .premium-chat-title {
            font-size: 20px;
            font-weight: 700;
            color: #0f172a;
            margin: 0;
        }

        .premium-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 12px;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .premium-btn.secondary {
            background: white;
            color: #374151;
            border: 1px solid #e5e7eb;
        }

        .premium-btn.secondary:hover {
            background: #f9fafb;
            transform: translateY(-1px);
        }

        .premium-header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Premium Chat Body */
        .premium-chat-body {
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Premium Welcome */
        .premium-welcome {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 32px;
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }

        .premium-welcome-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .premium-logo-large {
            margin-bottom: 24px;
        }

        .premium-welcome-title {
            font-size: 36px;
            font-weight: 800;
            color: #0f172a;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #0f172a, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .premium-welcome-subtitle {
            font-size: 18px;
            color: #64748b;
            margin-bottom: 0;
        }

        /* Premium Model Grid */
        .premium-model-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 48px;
            width: 100%;
            max-width: 900px;
        }

        .premium-model-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            padding: 32px 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            position: relative;
            min-height: 240px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }

        .premium-model-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .premium-model-card:hover::before {
            left: 100%;
        }

        .premium-model-card:hover {
            border-color: #d1d5db;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .premium-model-card.selected {
            border-color: #3b82f6;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }

        .premium-model-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 16px;
        }

        .premium-model-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: contain;
            margin-bottom: 16px;
            border: 3px solid transparent;
        }

        .premium-model-badge {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: none;
            letter-spacing: 0;
        }

        .premium-model-badge.fast {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }

        .premium-model-badge.pro {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
        }

        .premium-model-badge.max {
            background: rgba(139, 92, 246, 0.1);
            color: #8b5cf6;
        }

        .premium-model-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #1f2937;
        }

        .premium-model-desc {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.4;
            margin-bottom: 0;
        }


        /* Voice Creator Styles */
        .voice-creator-container {
            padding: 32px;
            background: #f8fafc;
            min-height: 100vh;
        }

        .voice-header {
            margin-bottom: 32px;
        }

        .voice-title-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .voice-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #06b6d4, #3b82f6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .voice-title {
            font-size: 32px;
            font-weight: 700;
            color: #1f2937;
            margin: 0;
        }

        .voice-subtitle {
            font-size: 16px;
            color: #6b7280;
            margin: 4px 0 0 0;
        }

        .voice-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 32px;
        }

        .voice-tab {
            padding: 12px 24px;
            border: 1px solid #e5e7eb;
            background: white;
            border-radius: 8px;
            font-weight: 500;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .voice-tab.active {
            background: #06b6d4;
            color: white;
            border-color: #06b6d4;
        }

        .voice-tab:hover:not(.active) {
            border-color: #d1d5db;
        }

        .voice-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
        }

        .voice-left-panel, .voice-right-panel {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .voice-settings-card, .voice-input-card, .audio-output-card, .recent-audio-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            padding: 24px;
        }

        .voice-settings-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .voice-setting-group {
            margin-bottom: 20px;
        }

        .voice-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .voice-dropdown {
            position: relative;
        }

        .voice-select {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        .voice-description {
            font-size: 12px;
            color: #6b7280;
            margin-top: 4px;
            font-style: italic;
        }

        .voice-input-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .voice-input-subtitle {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 16px;
        }

        .voice-textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            resize: vertical;
            margin-bottom: 12px;
        }

        .voice-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .character-count {
            font-size: 12px;
            color: #6b7280;
        }

        .voice-generate-btn {
            background: linear-gradient(135deg, #06b6d4, #3b82f6);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.2s;
        }

        .voice-generate-btn:hover {
            transform: translateY(-1px);
        }

        .voice-generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s linear infinite;
        }

        .audio-output-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .no-audio-state {
            text-align: center;
            padding: 40px 20px;
            color: #6b7280;
        }

        .audio-icon {
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .no-audio-state h4 {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .recent-header {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .recent-audio-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .audio-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            transition: all 0.2s;
        }

        .audio-item:hover {
            border-color: #d1d5db;
            background: #f9fafb;
        }

        .audio-item-icon {
            color: #06b6d4;
        }

        .audio-item-info {
            flex: 1;
        }

        .audio-item-title {
            font-size: 14px;
            font-weight: 500;
            color: #1f2937;
        }

        .audio-item-meta {
            font-size: 12px;
            color: #6b7280;
        }

        .audio-play-btn {
            width: 28px;
            height: 28px;
            background: #f3f4f6;
            border: none;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #374151;
            cursor: pointer;
            transition: all 0.2s;
        }

        .audio-play-btn:hover {
            background: #06b6d4;
            color: white;
        }

        /* Premium Examples */
        .premium-examples {
            width: 100%;
        }

        .premium-examples-title {
            text-align: center;
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 16px;
        }

        .premium-examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .premium-example-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            color: #374151;
        }

        .premium-example-card:hover {
            border-color: #06b6d4;
            color: #06b6d4;
            transform: translateY(-1px);
        }

        /* Premium Messages */
        .premium-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px 32px;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .premium-message {
            display: flex;
            gap: 16px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        .premium-message-avatar {
            flex-shrink: 0;
            width: 40px;
            height: 40px;
        }

        .premium-user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .premium-ai-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            border: 2px solid #06b6d4;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #06b6d4;
        }

        .premium-ai-avatar.streaming {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .premium-message-content {
            flex: 1;
            min-width: 0;
        }

        .premium-message-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .premium-message-author {
            font-weight: 600;
            color: #0f172a;
            font-size: 14px;
        }

        .premium-model-tag {
            background: #f1f5f9;
            color: #64748b;
            padding: 2px 8px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 500;
        }

        .premium-typing-indicator {
            color: #06b6d4;
            font-size: 12px;
            font-weight: 500;
        }

        .premium-message-text {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            padding: 16px 20px;
            font-size: 15px;
            line-height: 1.6;
            color: #374151;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .premium-message.user .premium-message-text {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
            border-color: #06b6d4;
        }

        .premium-cursor {
            display: inline-block;
            width: 2px;
            height: 20px;
            background: #06b6d4;
            margin-left: 4px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        /* Premium Input Area */
        .premium-input-area {
            background: white;
            border-top: 1px solid #e2e8f0;
            padding: 20px 32px 40px 32px;
        }

        .premium-compact-selector {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            position: relative;
        }

        .premium-current-model {
            display: flex;
            align-items: center;
            gap: 8px;
            background: #f8fafc;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 8px 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .premium-current-model:hover {
            background: #f1f5f9;
            border-color: #06b6d4;
        }

        .premium-current-icon {
            font-size: 18px;
        }

        .premium-current-name {
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }


        .premium-model-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border: none;
            background: transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            text-align: left;
        }

        .premium-model-option:hover {
            background: #f8fafc;
        }

        .premium-model-option.active {
            background: #06b6d4;
            color: white;
        }

        .premium-option-icon {
            font-size: 18px;
            flex-shrink: 0;
        }

        .premium-option-name {
            font-weight: 600;
            flex-shrink: 0;
        }

        .premium-option-desc {
            font-size: 12px;
            opacity: 0.7;
        }

        .premium-input-container {
            background: #f8fafc;
            border: 2px solid #e5e7eb;
            border-radius: 20px;
            transition: all 0.2s ease;
        }

        .premium-input-container:focus-within {
            border-color: #06b6d4;
            background: white;
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1);
        }

        .premium-input-wrapper {
            display: flex;
            align-items: flex-end;
            padding: 16px 20px;
        }

        .premium-input {
            flex: 1;
            border: none;
            outline: none;
            background: transparent;
            font-size: 16px;
            line-height: 1.5;
            color: #374151;
            resize: none;
            max-height: 120px;
            font-family: inherit;
        }

        .premium-input::placeholder {
            color: #9ca3af;
        }

        .premium-input-actions {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 16px;
        }

        .premium-action-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: #f1f5f9;
            border-radius: 12px;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .premium-action-btn:hover {
            background: #e2e8f0;
            color: #374151;
        }

        .premium-send-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            border-radius: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .premium-send-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(6, 182, 212, 0.3);
        }

        .premium-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .premium-chat-header {
                padding: 16px 20px;
            }
            
            .premium-welcome {
                padding: 32px 20px;
            }
            
            .premium-welcome-title {
                font-size: 28px;
            }
            
            .premium-model-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .premium-messages {
                padding: 20px;
                gap: 20px;
            }
            
            .premium-input-area {
                padding: 16px 20px 32px 20px;
            }
            
            .premium-examples-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef, useEffect } = React;
        
        // Icons replaced with emoji fallbacks for stability
        const Icon = ({ name, size = 16, ...props }) => {
            const iconSVGs = {
                'messageCircle': `<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>`,
                'barChart3': `<path d="M3 3v18h18"/><path d="m19 9-5 5-4-4-3 3"/>`,
                'search': `<circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>`,
                'code': `<polyline points="16,18 22,12 16,6"/><polyline points="8,6 2,12 8,18"/>`,
                'bot': `<rect width="18" height="10" x="3" y="11" rx="2"/><circle cx="12" cy="5" r="2"/><path d="m12 7 0 4"/><line x1="8" y1="16" x2="8" y2="16"/><line x1="16" y1="16" x2="16" y2="16"/>`,
                'image': `<rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>`,
                'video': `<path d="m22 8-6 4 6 4V8Z"/><rect width="14" height="12" x="2" y="6" rx="2" ry="2"/>`,
                'mic': `<path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/>`,
                'zap': `<polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>`,
                'settings': `<path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/>`,
                'helpCircle': `<circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/>`,
                'users': `<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>`,
                'creditCard': `<rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" y1="10" x2="22" y2="10"/>`,
                'send': `<path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/>`,
                'plus': `<path d="M5 12h14"/><path d="M12 5v14"/>`,
                'history': `<path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/>`,
                'micOff': `<line x1="1" y1="1" x2="23" y2="23"/><path d="M9 9v3a3 3 0 0 0 5.12 2.12l1.76 1.76c-.5.43-1.05.79-1.66 1.07"/><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-7.07 7"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/>`,
                'user': `<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>`,
                'play': `<polygon points="5,3 19,12 5,21"/>`,
                'pause': `<rect width="4" height="16" x="6" y="4"/><rect width="4" height="16" x="14" y="4"/>`,
                'download': `<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7,10 12,15 17,10"/><line x1="12" y1="15" x2="12" y2="3"/>`,
                'upload': `<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17,8 12,3 7,8"/><line x1="12" y1="3" x2="12" y2="15"/>`,
                'trash2': `<path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c0-1 1-2 2-2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/>`,
                'edit': `<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"/>`,
                'eye': `<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>`,
                'copy': `<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>`,
                'star': `<polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>`,
                'volume2': `<polygon points="11,5 6,9 2,9 2,15 6,15 11,19"/>`,
                'headphones': `<path d="M3 14h3a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2h3"/>`,
                'userPlus': `<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/>`,
                'crown': `<path d="M2 20h20l-2-6-4 2-4-4-4 4-4-2L2 20Z"/><path d="M6 6l4 4 4-4 4 4"/>`,
                'shield': `<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>`,
                'check': `<polyline points="20,6 9,17 4,12"/>`,
                'x': `<path d="m18 6-12 12"/><path d="m6 6 12 12"/>`,
                'alertTriangle': `<path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>`,
                'info': `<circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>`,
                'chevronRight': `<polyline points="9,18 15,12 9,6"/>`,
                'filter': `<polygon points="22,3 2,3 10,12.46 10,19 14,21 14,12.46"/>`,
                'sortAsc': `<path d="m3 8 4-4 4 4"/><path d="M7 4v16"/><rect width="4" height="6" x="15" y="4"/><rect width="4" height="6" x="15" y="14"/>`,
                'brain': `<path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"/><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"/><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"/>`,
                'link': `<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>`,
                'externalLink': `<path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15,3 21,3 21,9"/><line x1="10" y1="14" x2="21" y2="3"/>`,
                'share2': `<circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>`,
                'clock': `<circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/>`
            };
            
            const svgPath = iconSVGs[name];
            if (!svgPath) {
                return React.createElement('div', { 
                    style: { 
                        width: size, 
                        height: size, 
                        display: 'inline-block',
                        backgroundColor: 'currentColor',
                        borderRadius: '2px'
                    }
                });
            }
            
            return React.createElement('svg', {
                width: size,
                height: size,
                viewBox: '0 0 24 24',
                fill: 'none',
                stroke: 'currentColor',
                strokeWidth: '2',
                strokeLinecap: 'round',
                strokeLinejoin: 'round',
                style: { display: 'inline-block' },
                ...props,
                dangerouslySetInnerHTML: { __html: svgPath }
            });
        };

        const API_BASE = 'https://jaydus.ai';

        function JaydusAI() {
            // Authentication State
            const [user, setUser] = useState(null);
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [showAuthForm, setShowAuthForm] = useState(true);
            const [authMode, setAuthMode] = useState('login'); // 'login', 'register', or 'reset'
            const [authLoading, setAuthLoading] = useState(false);
            const [authError, setAuthError] = useState('');
            const [resetSuccess, setResetSuccess] = useState('');
            
            // Auth form data
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [fullName, setFullName] = useState('');
            
            // App State
            const [activeTab, setActiveTab] = useState('dashboard');
            const [selectedModel, setSelectedModel] = useState('fast');
            const [message, setMessage] = useState('');
            const [chatHistory, setChatHistory] = useState([]);
            const [isStreaming, setIsStreaming] = useState(false);
            const [currentResponse, setCurrentResponse] = useState('');
            const [availableModels, setAvailableModels] = useState([]);
            
            // Conversation Management
            const [conversations, setConversations] = useState([]);
            const [currentConversationId, setCurrentConversationId] = useState(null);
            const [loadingConversations, setLoadingConversations] = useState(false);
            const [showConversationHistory, setShowConversationHistory] = useState(false);
            
            // Image Generation
            const [imagePrompt, setImagePrompt] = useState('');
            const [isGeneratingImage, setIsGeneratingImage] = useState(false);
            const [generatedImage, setGeneratedImage] = useState(null);
            const [imageError, setImageError] = useState('');
            const [imageHistory, setImageHistory] = useState([]);
            const [selectedImageModel, setSelectedImageModel] = useState('photon-flash');
            
            // Voice Features
            const [isRecording, setIsRecording] = useState(false);
            const [voiceText, setVoiceText] = useState('');
            const [selectedVoice, setSelectedVoice] = useState('alloy');
            const [generatedAudio, setGeneratedAudio] = useState(null);
            const [isGeneratingVoice, setIsGeneratingVoice] = useState(false);
            const [voiceMode, setVoiceMode] = useState('tts'); // 'tts' or 'stt'
            
            // Assistants
            const [assistants, setAssistants] = useState([]);
            const [newAssistant, setNewAssistant] = useState({ name: '', description: '', prompt: '' });
            const [isCreatingAssistant, setIsCreatingAssistant] = useState(false);
            
            // Team Management
            const [teamMembers, setTeamMembers] = useState([
                { id: 1, name: 'Jason Gordon', email: 'jason@jaydus.ai', role: 'Owner', status: 'online', joinDate: '2025-08-07' }
            ]);
            const [inviteEmail, setInviteEmail] = useState('');
            const [inviteRole, setInviteRole] = useState('member');
            
            // Search
            const [searchQuery, setSearchQuery] = useState('');
            const [searchResults, setSearchResults] = useState([]);
            const [isSearching, setIsSearching] = useState(false);
            
            
            const messagesEndRef = useRef(null);

            const models = {
                fast: { name: 'Jaydus Fast', icon: './jaydus-logo-lightning.webp', description: 'Quick responses', badge: 'Fast', color: '#10b981', actual: 'openai/gpt-4o-mini' },
                pro: { name: 'Jaydus Pro', icon: './jaydus-logo-balanced.webp', description: 'Versatile intelligence', badge: 'Pro', color: '#3b82f6', actual: 'openai/gpt-4o' },
                max: { name: 'Jaydus Max', icon: './jaydus-logo-precise.webp', description: 'Peak performance', badge: 'Max', color: '#8b5cf6', actual: 'anthropic/claude-3.5-sonnet' }
            };

            const voices = [
                { id: 'alloy', name: 'Alloy', description: 'Neutral, balanced tone' },
                { id: 'echo', name: 'Echo', description: 'Calm, professional' },
                { id: 'fable', name: 'Fable', description: 'Warm, friendly' },
                { id: 'onyx', name: 'Onyx', description: 'Deep, authoritative' },
                { id: 'nova', name: 'Nova', description: 'Young, energetic' },
                { id: 'shimmer', name: 'Shimmer', description: 'Bright, cheerful' }
            ];

            useEffect(() => {
                loadModels();
                loadSampleAssistants();
                scrollToBottom();
            }, []);

            useEffect(() => {
                scrollToBottom();
            }, [chatHistory, currentResponse]);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            const loadModels = async () => {
                // Skip loading external models and use local ones for now
                console.log('Using local models configuration');
                setAvailableModels([
                    { id: 'anthropic/claude-3.5-sonnet', name: 'Claude 3.5 Sonnet' },
                    { id: 'anthropic/claude-sonnet-4', name: 'Claude Sonnet 4' },
                    { id: 'anthropic/claude-opus-4', name: 'Claude Opus 4' },
                    { id: 'openai/gpt-4o', name: 'GPT-4O' },
                    { id: 'google/gemini-pro', name: 'Gemini Pro' }
                ]);
                
            };

            const loadSampleAssistants = () => {
                setAssistants([
                    {
                        id: 1,
                        name: 'Code Reviewer',
                        description: 'Expert at reviewing and improving code quality',
                        prompt: 'You are an expert code reviewer. Analyze code for bugs, performance issues, and best practices.',
                        model: 'anthropic/claude-sonnet-4',
                        created: '2025-08-07'
                    },
                    {
                        id: 2,
                        name: 'Marketing Assistant',
                        description: 'Creative marketing content and strategy expert',
                        prompt: 'You are a marketing expert specializing in creative content and growth strategies.',
                        model: 'openai/gpt-4o',
                        created: '2025-08-06'
                    },
                    {
                        id: 3,
                        name: 'Data Analyst',
                        description: 'Analytical expert for data insights and visualization',
                        prompt: 'You are a data analyst expert. Help analyze data, create insights, and suggest visualizations.',
                        model: 'anthropic/claude-3.5-sonnet',
                        created: '2025-08-05'
                    }
                ]);
            };

            const sendMessage = async (userMessage) => {
                console.log('sendMessage called with:', userMessage);
                const modelId = models[selectedModel]?.actual || 'anthropic/claude-3.5-sonnet';
                console.log('Using model:', modelId);
                
                try {
                    setIsStreaming(true);
                    setCurrentResponse('');

                    // Try real API first, fallback to demo
                    try {
                        console.log('Attempting API call to:', `${API_BASE}/api/chat`);
                        const headers = { 'Content-Type': 'application/json' };
                        const token = localStorage.getItem('jaydus_token');
                        if (token) {
                            headers['Authorization'] = `Bearer ${token}`;
                        }
                        
                        const response = await fetch(`${API_BASE}/api/chat`, {
                            method: 'POST',
                            headers,
                            body: JSON.stringify({
                                messages: [
                                    ...chatHistory.map(msg => ({ role: msg.role, content: msg.content })),
                                    { role: 'user', content: userMessage }
                                ],
                                model: modelId,
                                stream: false,
                                conversationId: currentConversationId
                            })
                        });

                        console.log('API Response status:', response.status);
                        
                        if (response.ok) {
                            const data = await response.json();
                            console.log('API Response data:', data);
                            
                            if (data.choices && data.choices[0]) {
                                const assistantMessage = data.choices[0].message.content;
                                
                                for (let i = 0; i < assistantMessage.length; i++) {
                                    await new Promise(resolve => setTimeout(resolve, 7));
                                    setCurrentResponse(prev => prev + assistantMessage[i]);
                                }
                                
                                setIsStreaming(false);
                                setChatHistory(prev => [...prev, 
                                    { role: 'user', content: userMessage },
                                    { role: 'assistant', content: assistantMessage, model: modelId }
                                ]);
                                setCurrentResponse('');
                                
                                // Save conversation to database
                                await saveConversationToDB([
                                    ...chatHistory,
                                    { role: 'user', content: userMessage },
                                    { role: 'assistant', content: assistantMessage, model: modelId }
                                ]);
                                return;
                            }
                        } else {
                            const errorText = await response.text();
                            console.error('API Error Response:', response.status, errorText);
                        }
                    } catch (apiError) {
                        console.error('API Exception:', apiError);
                    }

                    // Demo/fallback responses
                    const demoResponses = [
                        `I'm here to help! You asked: "${userMessage}". This is the Jaydus AI platform with real AI capabilities. The API integration allows me to process your requests using advanced language models.`,
                        `Great question about "${userMessage}"! The Jaydus AI platform integrates multiple AI models including Claude, GPT-4, and Gemini for comprehensive assistance across various tasks.`,
                        `Thanks for your message: "${userMessage}". I can help you with coding, creative writing, analysis, data processing, image generation, voice synthesis, and much more through this integrated AI platform.`,
                        `Your query "${userMessage}" is interesting! This platform connects to real AI APIs including OpenRouter, OpenAI, and Luma Labs, offering professional-grade AI capabilities for businesses and developers.`,
                        `Regarding "${userMessage}" - I'm powered by multiple state-of-the-art AI models. You can switch between different models using the selector below, each optimized for different types of tasks and performance needs.`
                    ];
                    
                    const responseText = demoResponses[Math.floor(Math.random() * demoResponses.length)];
                    
                    // Simulate typing effect
                    for (let i = 0; i < responseText.length; i++) {
                        await new Promise(resolve => setTimeout(resolve, 8));
                        setCurrentResponse(prev => prev + responseText[i]);
                    }
                    
                    setIsStreaming(false);
                    setChatHistory(prev => [...prev, 
                        { role: 'user', content: userMessage },
                        { role: 'assistant', content: responseText, model: modelId }
                    ]);
                    setCurrentResponse('');
                    
                    // Save conversation to database
                    await saveConversationToDB([
                        ...chatHistory,
                        { role: 'user', content: userMessage },
                        { role: 'assistant', content: responseText, model: modelId }
                    ]);
                } catch (error) {
                    console.error('Chat error:', error);
                    setIsStreaming(false);
                    setCurrentResponse('');
                    setChatHistory(prev => [...prev, 
                        { role: 'user', content: userMessage },
                        { role: 'assistant', content: 'Sorry, I encountered an error. Please try again.' }
                    ]);
                }
            };

            const handleSend = async () => {
                if (!message.trim() || isStreaming) return;
                const userMessage = message;
                setMessage('');
                setChatHistory(prev => [...prev, { role: 'user', content: userMessage }]);
                await sendMessage(userMessage);
            };

            const generateImage = async () => {
                if (!imagePrompt.trim() || isGeneratingImage) return;
                
                setIsGeneratingImage(true);
                setImageError('');
                setGeneratedImage(null);

                try {
                    const response = await fetch(`${API_BASE}/api/images`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            prompt: imagePrompt,
                            aspectRatio: '16:9',
                            model: selectedImageModel
                        })
                    });

                    const data = await response.json();
                    
                    let imageUrl = null;
                    if (data.data && data.data[0] && data.data[0].url) {
                        imageUrl = data.data[0].url;
                    } else if (data.url) {
                        imageUrl = data.url;
                    } else {
                        // Demo image for when API is unavailable
                        imageUrl = 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=600&fit=crop';
                    }
                    
                    setGeneratedImage(imageUrl);
                    
                    // Save to image history
                    const modelNames = {
                        'photon-flash': 'Photon Flash',
                        'photon-2': 'Photon-2',
                        'flux-1-kontext-pro': 'Flux-1 Kontext Pro',
                        'seedream-3-0': 'SeeDream 3.0'
                    };
                    const newImage = {
                        id: Date.now(),
                        url: imageUrl,
                        prompt: imagePrompt,
                        timestamp: new Date().toISOString(),
                        model: modelNames[selectedImageModel] || 'Unknown'
                    };
                    setImageHistory(prev => [newImage, ...prev].slice(0, 20)); // Keep last 20 images
                } catch (error) {
                    console.error('Image generation error:', error);
                    // Demo image fallback
                    const fallbackUrl = 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=800&h=600&fit=crop';
                    setGeneratedImage(fallbackUrl);
                    
                    // Save fallback to history
                    const fallbackImage = {
                        id: Date.now(),
                        url: fallbackUrl,
                        prompt: imagePrompt,
                        timestamp: new Date().toISOString(),
                        model: 'Demo'
                    };
                    setImageHistory(prev => [fallbackImage, ...prev].slice(0, 20));
                } finally {
                    setIsGeneratingImage(false);
                }
            };

            const generateVoice = async () => {
                if (!voiceText.trim() || isGeneratingVoice) return;
                
                setIsGeneratingVoice(true);
                try {
                    const response = await fetch(`${API_BASE}/api/voice`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            action: 'text-to-speech',
                            text: voiceText,
                            voice: selectedVoice
                        })
                    });

                    if (response.ok) {
                        const audioBlob = await response.blob();
                        const audioUrl = URL.createObjectURL(audioBlob);
                        setGeneratedAudio(audioUrl);
                    } else {
                        console.log('Voice API unavailable - demo mode');
                    }
                } catch (error) {
                    console.error('Voice generation error:', error);
                } finally {
                    setIsGeneratingVoice(false);
                }
            };

            const createAssistant = () => {
                if (!newAssistant.name.trim()) return;
                
                const assistant = {
                    id: Date.now(),
                    ...newAssistant,
                    model: models[selectedModel]?.actual || 'anthropic/claude-3.5-sonnet',
                    created: new Date().toISOString().split('T')[0]
                };
                
                setAssistants(prev => [assistant, ...prev]);
                setNewAssistant({ name: '', description: '', prompt: '' });
                setIsCreatingAssistant(false);
            };

            const inviteTeamMember = () => {
                if (!inviteEmail.trim()) return;
                
                const member = {
                    id: Date.now(),
                    name: inviteEmail.split('@')[0],
                    email: inviteEmail,
                    role: inviteRole,
                    status: 'invited',
                    joinDate: new Date().toISOString().split('T')[0]
                };
                
                setTeamMembers(prev => [...prev, member]);
                setInviteEmail('');
            };

            const performSearch = async () => {
                if (!searchQuery.trim() || isSearching) return;
                
                setIsSearching(true);
                
                try {
                    const response = await fetch(`${API_BASE}/api/search`, {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${auth.token}`
                        },
                        body: JSON.stringify({ query: searchQuery })
                    });
                    
                    const data = await response.json();
                    
                    if (data.synthesizedResponse) {
                        // Store the complete search response with synthesis and sources
                        setSearchResults({
                            query: data.query,
                            synthesizedResponse: data.synthesizedResponse,
                            sources: data.sources || [],
                            relatedQuestions: data.relatedQuestions || [],
                            searchPerformed: data.searchPerformed
                        });
                    } else {
                        // Fallback to demo data if API fails
                        setSearchResults({
                            query: searchQuery,
                            synthesizedResponse: `**Direct Answer**: Based on available information, here's what we know about "${searchQuery}".\n\n**Detailed Explanation**: This appears to be a query requiring real-time search capabilities. The AI search system is designed to provide comprehensive, well-researched answers by searching the web and synthesizing information from multiple sources.\n\n**Additional Context**: For the most accurate and up-to-date information, please ensure you have an active internet connection and try your search again.`,
                            sources: [
                                {
                                    index: 1,
                                    title: `AI Development Best Practices for "${searchQuery}"`,
                                    url: "https://example.com/ai-best-practices",
                                    domain: "example.com",
                                    snippet: `Comprehensive guide to implementing AI solutions related to ${searchQuery}. Learn about modern frameworks, optimization techniques, and industry standards.`
                                }
                            ],
                            relatedQuestions: [
                                `What are the latest trends in ${searchQuery}?`,
                                `How to implement ${searchQuery} effectively?`,
                                `What are the best practices for ${searchQuery}?`
                            ]
                        });
                    }
                } catch (error) {
                    console.error('Search error:', error);
                    // Fallback to demo data
                    setSearchResults({
                        query: searchQuery,
                        synthesizedResponse: `**Search Error**: Unable to perform search at this time.\n\n**Status**: The search service is temporarily unavailable or experiencing issues.\n\n**Suggested Actions**:\n- Check your internet connection\n- Try rephrasing your search query\n- Wait a few moments and try again\n\n**Note**: This is a demo response while the search service is being restored.`,
                        sources: [
                            {
                                index: 1,
                                title: `AI Development Best Practices for "${searchQuery}"`,
                                url: "https://example.com/ai-best-practices",
                                domain: "example.com",
                                snippet: `Comprehensive guide to implementing AI solutions related to ${searchQuery}. Demo content while search is unavailable.`
                            }
                        ],
                        relatedQuestions: [
                            `What are the latest trends in ${searchQuery}?`,
                            `How to implement ${searchQuery} effectively?`,
                            `What are the best practices for ${searchQuery}?`
                        ]
                    });
                } finally {
                    setIsSearching(false);
                }
            };


            // Authentication functions
            const handleAuth = async (e) => {
                e.preventDefault();
                setAuthLoading(true);
                setAuthError('');
                setResetSuccess('');
                
                let endpoint, body;
                if (authMode === 'register') {
                    endpoint = '/api/auth/register';
                    body = { email, password, fullName };
                } else if (authMode === 'reset') {
                    endpoint = '/api/auth/reset-password';
                    body = { email };
                } else {
                    endpoint = '/api/auth/login';
                    body = { email, password };
                }
                
                try {
                    console.log('Attempting auth:', authMode, 'to endpoint:', `${API_BASE}${endpoint}`);
                    const response = await fetch(`${API_BASE}${endpoint}`, {
                        method: 'POST',
                        headers: { 
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        mode: 'cors',
                        body: JSON.stringify(body)
                    });
                    
                    console.log('Auth response status:', response.status);
                    
                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({ error: 'Network error' }));
                        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
                    }
                    
                    const data = await response.json();
                    console.log('Auth successful:', data);
                    
                    if (authMode === 'reset') {
                        setResetSuccess('Password reset email sent! Check your inbox for further instructions.');
                        setEmail('');
                    } else {
                        setUser(data.user);
                        setIsAuthenticated(true);
                        setShowAuthForm(false);
                        localStorage.setItem('jaydus_token', data.token);
                    }
                } catch (error) {
                    console.error('Auth error:', error);
                    setAuthError(error.message || 'Network error. Please try again.');
                } finally {
                    setAuthLoading(false);
                }
            };

            const handleLogout = () => {
                setUser(null);
                setIsAuthenticated(false);
                setShowAuthForm(true);
                setConversations([]);
                setCurrentConversationId(null);
                setChatHistory([]);
                localStorage.removeItem('jaydus_token');
            };

            // Conversation Management Functions
            const loadConversations = async () => {
                const token = localStorage.getItem('jaydus_token');
                if (!token) return;
                
                setLoadingConversations(true);
                try {
                    const response = await fetch(`${API_BASE}/api/conversations`, {
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        setConversations(data.conversations || []);
                    }
                } catch (error) {
                    console.error('Failed to load conversations:', error);
                } finally {
                    setLoadingConversations(false);
                }
            };

            const loadConversation = async (conversationId) => {
                const token = localStorage.getItem('jaydus_token');
                if (!token) return;
                
                try {
                    const response = await fetch(`${API_BASE}/api/conversations/${conversationId}`, {
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        setCurrentConversationId(conversationId);
                        setChatHistory(data.messages || []);
                        setSelectedModel(data.conversation?.model || 'fast');
                        setShowConversationHistory(false); // Close the history sidebar
                    }
                } catch (error) {
                    console.error('Failed to load conversation:', error);
                }
            };

            const startNewConversation = async () => {
                const token = localStorage.getItem('jaydus_token');
                if (!token) {
                    // For anonymous users, just clear the current chat
                    setChatHistory([]);
                    setCurrentConversationId(null);
                    return;
                }
                
                try {
                    const response = await fetch(`${API_BASE}/api/conversations`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({
                            title: 'New Conversation',
                            model: models[selectedModel]?.actual || 'anthropic/claude-3.5-sonnet'
                        })
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        setCurrentConversationId(data.conversationId);
                        setChatHistory([]);
                        await loadConversations(); // Refresh the list
                    }
                } catch (error) {
                    console.error('Failed to create conversation:', error);
                    // Fallback to local mode
                    setChatHistory([]);
                    setCurrentConversationId(null);
                }
            };

            const deleteConversation = async (conversationId) => {
                const token = localStorage.getItem('jaydus_token');
                if (!token) return;
                
                if (!confirm('Are you sure you want to delete this conversation?')) return;
                
                try {
                    const response = await fetch(`${API_BASE}/api/conversations/${conversationId}`, {
                        method: 'DELETE',
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    });
                    
                    if (response.ok) {
                        // Remove from local state
                        setConversations(prev => prev.filter(c => c.id !== conversationId));
                        
                        // If this is the current conversation, clear it
                        if (currentConversationId === conversationId) {
                            setChatHistory([]);
                            setCurrentConversationId(null);
                        }
                    }
                } catch (error) {
                    console.error('Failed to delete conversation:', error);
                }
            };

            const saveConversationToDB = async (messages) => {
                const token = localStorage.getItem('jaydus_token');
                if (!token || !isAuthenticated) return; // Skip saving if not authenticated
                
                try {
                    // If no current conversation, create one
                    if (!currentConversationId) {
                        const newConvResponse = await fetch(`${API_BASE}/api/conversations`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': `Bearer ${token}`
                            },
                            body: JSON.stringify({
                                title: messages.find(m => m.role === 'user')?.content?.slice(0, 50) || 'New Conversation',
                                model: models[selectedModel]?.actual || 'anthropic/claude-3.5-sonnet'
                            })
                        });
                        
                        if (newConvResponse.ok) {
                            const newConvData = await newConvResponse.json();
                            setCurrentConversationId(newConvData.conversationId);
                        } else {
                            return; // Failed to create conversation, skip saving
                        }
                    }
                    
                    // Save messages to the conversation
                    const response = await fetch(`${API_BASE}/api/conversations/${currentConversationId}/messages`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                        body: JSON.stringify({
                            messages: messages
                        })
                    });
                    
                    if (response.ok) {
                        await loadConversations(); // Refresh conversations list
                    }
                } catch (error) {
                    console.error('Failed to save conversation:', error);
                }
            };

            // Load conversations when user logs in
            useEffect(() => {
                if (isAuthenticated) {
                    loadConversations();
                }
            }, [isAuthenticated]);

            const sidebarItems = [
                { id: 'dashboard', icon: 'barChart3', label: 'Dashboard' },
                { id: 'chat', icon: 'messageCircle', label: 'AI Chat' },
                { id: 'search', icon: 'search', label: 'AI Search' },
                { id: 'assistants', icon: 'bot', label: 'Custom Assistants' },
                { id: 'image', icon: 'image', label: 'Image Creator' },
                { id: 'voice', icon: 'mic', label: 'Voice Creator' },
            ];

            const bottomItems = [
                { id: 'integrations', icon: 'zap', label: 'Integrations' },
                { id: 'settings', icon: 'settings', label: 'Settings' },
                { id: 'help', icon: 'helpCircle', label: 'Help Center' },
                { id: 'team', icon: 'users', label: 'Teams' },
                { id: 'billing', icon: 'creditCard', label: 'Billing' },
            ];

            const renderDashboard = () => (
                <div className="page-container">
                    <div className="page-header">
                        <h1 className="page-title">Dashboard</h1>
                        <p className="page-subtitle">Welcome back! Here's what's happening with your AI workspace.</p>
                    </div>
                    
                    <div className="stats">
                        <div className="stat">
                            <div className="stat-header">
                                <div className="stat-value">{chatHistory.length}</div>
                                <div className="stat-icon">
                                    <Icon name="messageCircle" size={18} />
                                </div>
                            </div>
                            <div className="stat-label">Total Chats</div>
                            <div className="stat-change">Live count</div>
                        </div>
                        
                        <div className="stat">
                            <div className="stat-header">
                                <div className="stat-value">{availableModels.length || 12}</div>
                                <div className="stat-icon">
                                    <Icon name="bot" size={18} />
                                </div>
                            </div>
                            <div className="stat-label">AI Models Available</div>
                            <div className="stat-change">Real-time access</div>
                        </div>
                        
                        <div className="stat">
                            <div className="stat-header">
                                <div className="stat-value">{assistants.length}</div>
                                <div className="stat-icon">
                                    <Icon name="user" size={18} />
                                </div>
                            </div>
                            <div className="stat-label">Custom Assistants</div>
                            <div className="stat-change">AI Powered</div>
                        </div>
                        
                        <div className="stat">
                            <div className="stat-header">
                                <div className="stat-value">{teamMembers.length}</div>
                                <div className="stat-icon">
                                    <Icon name="users" size={18} />
                                </div>
                            </div>
                            <div className="stat-label">Team Members</div>
                            <div className="stat-change">Collaborative</div>
                        </div>
                    </div>

                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            Platform Status
                        </h3>
                        <div style={{display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px'}}>
                            <div style={{width: '8px', height: '8px', background: '#10b981', borderRadius: '50%'}}></div>
                            <span style={{color: '#10b981', fontWeight: '600'}}>All Systems Operational</span>
                        </div>
                        <div style={{display: 'flex', justifyContent: 'space-between', fontSize: '14px', marginBottom: '8px'}}>
                            <span style={{color: '#64748b'}}>Backend API: Connected</span>
                            <span style={{color: '#10b981', fontWeight: '600'}}>Live</span>
                        </div>
                        <div style={{width: '100%', height: '8px', background: '#e2e8f0', borderRadius: '4px'}}>
                            <div style={{width: '100%', height: '100%', background: 'linear-gradient(135deg, #10b981, #059669)', borderRadius: '4px'}}></div>
                        </div>
                    </div>

                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            Quick Actions
                        </h3>
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '16px'}}>
                            <button 
                                onClick={() => setActiveTab('chat')}
                                className="feature-card"
                                style={{textAlign: 'left', padding: '16px'}}
                            >
                                <Icon name="messageCircle" size={20} style={{color: '#64748b', marginBottom: '8px'}} />
                                <div style={{fontWeight: '600', marginBottom: '4px'}}>Start New Chat</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Begin conversation with AI</div>
                            </button>
                            
                            <button 
                                onClick={() => setActiveTab('image')}
                                className="feature-card"
                                style={{textAlign: 'left', padding: '16px'}}
                            >
                                <Icon name="image" size={20} style={{color: '#64748b', marginBottom: '8px'}} />
                                <div style={{fontWeight: '600', marginBottom: '4px'}}>Generate Image</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Create with AI</div>
                            </button>
                            
                            <button 
                                onClick={() => setActiveTab('assistants')}
                                className="feature-card"
                                style={{textAlign: 'left', padding: '16px'}}
                            >
                                <Icon name="bot" size={20} style={{color: '#64748b', marginBottom: '8px'}} />
                                <div style={{fontWeight: '600', marginBottom: '4px'}}>Create Assistant</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Build custom AI helper</div>
                            </button>
                        </div>
                    </div>
                </div>
            );

            const renderChat = () => (
                <div className="premium-chat">
                    {/* Header */}
                    <div className="premium-chat-header">
                        <div className="premium-header-left">
                            <div className="premium-chat-logo">
                                <img 
                                    src="./jaydus-hub-logo.png" 
                                    alt="Jaydus AI" 
                                    style={{
                                        height: '32px',
                                        width: '32px',
                                        borderRadius: '50%',
                                        objectFit: 'cover'
                                    }} 
                                />
                                <span className="premium-chat-title">Jaydus AI</span>
                            </div>
                        </div>
                        <div className="premium-header-right">
                            {isAuthenticated && (
                                <button 
                                    className="premium-btn secondary" 
                                    onClick={() => setShowConversationHistory(!showConversationHistory)}
                                >
                                    <Icon name="history" size={16} />
                                    History
                                </button>
                            )}
                            <button className="premium-btn secondary" onClick={startNewConversation}>
                                <Icon name="plus" size={16} />
                                New Chat
                            </button>
                        </div>
                    </div>

                    {/* History Sidebar Overlay */}
                    {showConversationHistory && isAuthenticated && (
                        <div 
                            style={{
                                position: 'fixed',
                                top: 0,
                                left: 0,
                                right: 0,
                                bottom: 0,
                                backgroundColor: 'rgba(0, 0, 0, 0.5)',
                                zIndex: 1000,
                                animation: 'fadeIn 0.2s ease'
                            }}
                            onClick={() => setShowConversationHistory(false)}
                        >
                            {/* Sidebar Panel */}
                            <div 
                                style={{
                                    position: 'fixed',
                                    top: 0,
                                    right: 0,
                                    bottom: 0,
                                    width: '400px',
                                    backgroundColor: 'white',
                                    boxShadow: '-5px 0 25px rgba(0,0,0,0.15)',
                                    zIndex: 1001,
                                    animation: 'slideInRight 0.3s ease',
                                    display: 'flex',
                                    flexDirection: 'column'
                                }}
                                onClick={(e) => e.stopPropagation()}
                            >
                                {/* Sidebar Header */}
                                <div style={{
                                    padding: '20px',
                                    borderBottom: '1px solid #e5e7eb',
                                    display: 'flex',
                                    justifyContent: 'space-between',
                                    alignItems: 'center',
                                    backgroundColor: '#f8fafc'
                                }}>
                                    <div>
                                        <h2 style={{
                                            fontSize: '18px',
                                            fontWeight: '600',
                                            color: '#1f2937',
                                            margin: 0,
                                            marginBottom: '4px'
                                        }}>
                                            Chat History
                                        </h2>
                                        <p style={{
                                            fontSize: '14px',
                                            color: '#6b7280',
                                            margin: 0
                                        }}>
                                            {conversations.length} conversation{conversations.length !== 1 ? 's' : ''}
                                        </p>
                                    </div>
                                    <button
                                        onClick={() => setShowConversationHistory(false)}
                                        style={{
                                            background: 'none',
                                            border: 'none',
                                            fontSize: '18px',
                                            color: '#6b7280',
                                            cursor: 'pointer',
                                            padding: '8px',
                                            borderRadius: '6px',
                                            transition: 'background-color 0.2s'
                                        }}
                                        onMouseOver={(e) => e.target.style.backgroundColor = '#e5e7eb'}
                                        onMouseOut={(e) => e.target.style.backgroundColor = 'transparent'}
                                    >
                                        <Icon name="x" size={20} />
                                    </button>
                                </div>
                                
                                {/* Sidebar Content */}
                                <div style={{ 
                                    flex: 1, 
                                    overflowY: 'auto', 
                                    padding: '16px' 
                                }}>
                                    {loadingConversations ? (
                                        <div style={{
                                            padding: '40px 20px',
                                            textAlign: 'center',
                                            color: '#6b7280'
                                        }}>
                                            <div style={{
                                                fontSize: '32px',
                                                marginBottom: '16px'
                                            }}>⏳</div>
                                            Loading conversations...
                                        </div>
                                    ) : conversations.length === 0 ? (
                                        <div style={{
                                            padding: '40px 20px',
                                            textAlign: 'center',
                                            color: '#6b7280'
                                        }}>
                                            <div style={{
                                                fontSize: '32px',
                                                marginBottom: '16px'
                                            }}>💬</div>
                                            <h3 style={{
                                                fontSize: '16px',
                                                fontWeight: '600',
                                                color: '#1f2937',
                                                margin: '0 0 8px 0'
                                            }}>No conversations yet</h3>
                                            <p style={{ margin: 0 }}>Start a new chat to begin!</p>
                                        </div>
                                    ) : (
                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                                            {conversations.map(conv => (
                                                <div
                                                    key={conv.id}
                                                    onClick={() => {
                                                        loadConversation(conv.id);
                                                        setShowConversationHistory(false);
                                                    }}
                                                    style={{
                                                        padding: '16px',
                                                        border: currentConversationId === conv.id ? '2px solid #06b6d4' : '1px solid #e5e7eb',
                                                        borderRadius: '12px',
                                                        cursor: 'pointer',
                                                        transition: 'all 0.2s',
                                                        backgroundColor: currentConversationId === conv.id ? 'rgba(6, 182, 212, 0.05)' : 'white'
                                                    }}
                                                    onMouseOver={(e) => {
                                                        if (currentConversationId !== conv.id) {
                                                            e.currentTarget.style.backgroundColor = '#f9fafb';
                                                            e.currentTarget.style.borderColor = '#d1d5db';
                                                        }
                                                    }}
                                                    onMouseOut={(e) => {
                                                        if (currentConversationId !== conv.id) {
                                                            e.currentTarget.style.backgroundColor = 'white';
                                                            e.currentTarget.style.borderColor = '#e5e7eb';
                                                        }
                                                    }}
                                                >
                                                    <div style={{
                                                        display: 'flex',
                                                        justifyContent: 'space-between',
                                                        alignItems: 'flex-start'
                                                    }}>
                                                        <div style={{ flex: 1, minWidth: 0 }}>
                                                            <div style={{
                                                                fontSize: '14px',
                                                                fontWeight: '600',
                                                                color: '#1f2937',
                                                                marginBottom: '6px',
                                                                textOverflow: 'ellipsis',
                                                                overflow: 'hidden',
                                                                whiteSpace: 'nowrap'
                                                            }}>
                                                                {conv.title}
                                                            </div>
                                                            <div style={{
                                                                fontSize: '12px',
                                                                color: '#6b7280',
                                                                display: 'flex',
                                                                alignItems: 'center',
                                                                gap: '8px'
                                                            }}>
                                                                <span>{new Date(conv.created_at * 1000).toLocaleDateString()}</span>
                                                                {conv.model && (
                                                                    <span style={{
                                                                        background: '#f3f4f6',
                                                                        padding: '2px 6px',
                                                                        borderRadius: '4px',
                                                                        fontSize: '10px'
                                                                    }}>
                                                                        {conv.model.includes('gpt-5') ? 'GPT-5' : 
                                                                         conv.model.includes('gemini') ? 'Gemini' : 'AI'}
                                                                    </span>
                                                                )}
                                                            </div>
                                                        </div>
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                deleteConversation(conv.id);
                                                            }}
                                                            style={{
                                                                background: 'none',
                                                                border: 'none',
                                                                color: '#ef4444',
                                                                cursor: 'pointer',
                                                                padding: '6px',
                                                                borderRadius: '6px',
                                                                opacity: '0.7',
                                                                marginLeft: '8px',
                                                                transition: 'all 0.2s'
                                                            }}
                                                            onMouseOver={(e) => {
                                                                e.target.style.opacity = '1';
                                                                e.target.style.backgroundColor = '#fef2f2';
                                                            }}
                                                            onMouseOut={(e) => {
                                                                e.target.style.opacity = '0.7';
                                                                e.target.style.backgroundColor = 'transparent';
                                                            }}
                                                        >
                                                            <Icon name="trash2" size={14} />
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Main Chat Area */}
                    <div className="premium-chat-body">
                        {chatHistory.length === 0 ? (
                            <div style={{
                                display: 'flex',
                                flexDirection: 'column',
                                alignItems: 'center',
                                justifyContent: 'center',
                                height: '100%',
                                textAlign: 'center',
                                padding: '40px 20px'
                            }}>
                                <div style={{
                                    marginBottom: '24px'
                                }}>
                                    <img 
                                        src="./jaydus-hub-logo.png" 
                                        alt="Jaydus AI" 
                                        style={{
                                            height: '80px',
                                            width: '80px',
                                            borderRadius: '50%',
                                            objectFit: 'cover'
                                        }} 
                                    />
                                </div>
                                <h1 style={{
                                    fontSize: '32px',
                                    fontWeight: '700',
                                    color: '#1f2937',
                                    marginBottom: '12px'
                                }}>
                                    Welcome to Jaydus AI
                                </h1>
                                <p style={{
                                    fontSize: '18px',
                                    color: '#6b7280',
                                    marginBottom: '32px',
                                    maxWidth: '500px'
                                }}>
                                    Choose a model to begin, or type a prompt directly.
                                </p>
                            </div>
                        ) : (
                            <div className="premium-messages">
                                {chatHistory.map((msg, index) => (
                                    <div key={index} className={`premium-message ${msg.role}`}>
                                        <div className="premium-message-avatar">
                                            {msg.role === 'user' ? (
                                                <div className="premium-user-avatar">
                                                    {user?.fullName?.charAt(0) || 'U'}
                                                </div>
                                            ) : (
                                                <div className="premium-ai-avatar">
                                                    <Icon name="bot" size={16} />
                                                </div>
                                            )}
                                        </div>
                                        <div className="premium-message-content">
                                            <div className="premium-message-header">
                                                <span className="premium-message-author">
                                                    {msg.role === 'user' ? user?.fullName || 'You' : 'Jaydus AI'}
                                                </span>
                                                {msg.role === 'assistant' && msg.model && (
                                                    <span className="premium-model-tag">
                                                        {msg.model.includes('claude') ? '🤖 Claude' : 
                                                         msg.model.includes('gpt') ? '🧠 GPT' : 
                                                         msg.model.includes('gemini') ? '💎 Gemini' : '🤖 AI'}
                                                    </span>
                                                )}
                                            </div>
                                            <div className="premium-message-text">
                                                {msg.content}
                                            </div>
                                        </div>
                                    </div>
                                ))}
                                
                                {isStreaming && (
                                    <div className="premium-message assistant">
                                        <div className="premium-message-avatar">
                                            <div className="premium-ai-avatar streaming">
                                                <Icon name="bot" size={16} />
                                            </div>
                                        </div>
                                        <div className="premium-message-content">
                                            <div className="premium-message-header">
                                                <span className="premium-message-author">Jaydus AI</span>
                                                <span className="premium-typing-indicator">typing...</span>
                                            </div>
                                            <div className="premium-message-text">
                                                {currentResponse}<span className="premium-cursor"></span>
                                            </div>
                                        </div>
                                    </div>
                                )}
                                <div ref={messagesEndRef} />
                            </div>
                        )}
                    </div>

                    {/* Premium Input Area */}
                    <div className="premium-input-area">
                        
                        {/* Model Selector Tabs */}
                        <div style={{
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'center',
                            marginBottom: '12px',
                            padding: '0 4px'
                        }}>
                            <div style={{
                                fontSize: '12px',
                                color: '#6b7280',
                                fontWeight: '500'
                            }}>
                                {models[selectedModel]?.name || 'Jaydus 3-Fast'}
                            </div>
                            <div style={{
                                display: 'flex',
                                gap: '8px'
                            }}>
                            {Object.entries(models).map(([key, model]) => (
                                <button
                                    key={key}
                                    onClick={() => setSelectedModel(key)}
                                    style={{
                                        background: selectedModel === key ? 
                                            (key === 'fast' ? '#10b981' : key === 'pro' ? '#3b82f6' : '#8b5cf6') : 
                                            '#f3f4f6',
                                        color: selectedModel === key ? 'white' : '#6b7280',
                                        border: 'none',
                                        borderRadius: '20px',
                                        padding: '6px 12px',
                                        fontSize: '12px',
                                        fontWeight: '600',
                                        cursor: 'pointer',
                                        transition: 'all 0.2s',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '6px'
                                    }}
                                >
                                    <div style={{
                                        width: '8px',
                                        height: '8px',
                                        borderRadius: '50%',
                                        background: selectedModel === key ? 'rgba(255,255,255,0.3)' : 
                                            (key === 'fast' ? '#10b981' : key === 'pro' ? '#3b82f6' : '#8b5cf6')
                                    }}></div>
                                    {model.badge}
                                </button>
                            ))}
                            </div>
                        </div>

                        {/* Input Container */}
                        <div className="premium-input-container">
                            <div className="premium-input-wrapper">
                                <textarea
                                    value={message}
                                    onChange={(e) => setMessage(e.target.value)}
                                    onKeyPress={(e) => {
                                        if (e.key === 'Enter' && !e.shiftKey) {
                                            e.preventDefault();
                                            handleSend();
                                        }
                                    }}
                                    placeholder="Ask Jaydus AI anything..."
                                    className="premium-input"
                                    rows="1"
                                    disabled={isStreaming}
                                />
                                <div className="premium-input-actions">
                                    <button 
                                        className="premium-action-btn" 
                                        onClick={() => setIsRecording(!isRecording)}
                                        title="Voice Input"
                                    >
                                        <Icon name={isRecording ? "micOff" : "mic"} size={18} />
                                    </button>
                                    <button 
                                        onClick={handleSend}
                                        disabled={!message.trim() || isStreaming}
                                        className="premium-send-btn"
                                        title="Send Message"
                                    >
                                        {isStreaming ? (
                                            <Icon name="pause" size={18} />
                                        ) : (
                                            <Icon name="send" size={18} />
                                        )}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderImageGenerator = () => (
                <div className="image-studio">
                    {/* Header */}
                    <div className="image-studio-header">
                        <div className="image-studio-title-section">
                            <div className="image-studio-icon">
                                <Icon name="image" size={28} />
                            </div>
                            <div>
                                <h1 className="image-studio-title">Jaydus Image Studio</h1>
                                <p className="image-studio-subtitle">Create stunning visuals with AI-powered generation</p>
                            </div>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="image-studio-content">
                        {/* Left Panel - Controls */}
                        <div className="image-studio-panel">
                            <div className="image-studio-card">
                                <h3 className="image-studio-card-title">
                                    <Icon name="settings" size={18} />
                                    Generation Settings
                                </h3>
                                
                                <div className="form-group">
                                    <label className="form-label">Describe your image</label>
                                    <textarea
                                        className="form-input form-textarea"
                                        value={imagePrompt}
                                        onChange={(e) => setImagePrompt(e.target.value)}
                                        placeholder="A beautiful sunset over mountains with a crystal clear lake reflecting golden light, painted in the style of Bob Ross..."
                                        disabled={isGeneratingImage}
                                        rows="4"
                                    />
                                </div>

                                <div className="form-group">
                                    <label className="form-label">AI Model</label>
                                    <select 
                                        className="form-input" 
                                        value={selectedImageModel}
                                        onChange={(e) => setSelectedImageModel(e.target.value)}
                                    >
                                        <option value="photon-flash">Luma Photon Flash (Fast)</option>
                                        <option value="photon-2">Luma Photon-2 (Advanced)</option>
                                        <option value="flux-1-kontext-pro">Flux-1 Kontext Pro (Premium)</option>
                                        <option value="seedream-3-0">SeeDream 3.0 (Ultra)</option>
                                    </select>
                                </div>

                                <div className="form-row">
                                    <div className="form-group">
                                        <label className="form-label">Style</label>
                                        <select className="form-input" defaultValue="photorealistic">
                                            <option value="photorealistic">Photorealistic</option>
                                            <option value="artistic">Artistic</option>
                                            <option value="cartoon">Cartoon</option>
                                            <option value="abstract">Abstract</option>
                                            <option value="vintage">Vintage</option>
                                        </select>
                                    </div>
                                    <div className="form-group">
                                        <label className="form-label">Aspect Ratio</label>
                                        <select className="form-input" defaultValue="1:1">
                                            <option value="1:1">Square (1:1)</option>
                                            <option value="16:9">Landscape (16:9)</option>
                                            <option value="9:16">Portrait (9:16)</option>
                                            <option value="4:3">Classic (4:3)</option>
                                        </select>
                                    </div>
                                </div>

                                <div className="form-group">
                                    <label className="form-label">Quality</label>
                                    <div className="quality-selector">
                                        <div className="quality-option">
                                            <input type="radio" name="quality" id="standard" defaultChecked />
                                            <label htmlFor="standard">Standard</label>
                                        </div>
                                        <div className="quality-option">
                                            <input type="radio" name="quality" id="high" />
                                            <label htmlFor="high">High</label>
                                        </div>
                                        <div className="quality-option">
                                            <input type="radio" name="quality" id="ultra" />
                                            <label htmlFor="ultra">Ultra</label>
                                        </div>
                                    </div>
                                </div>
                                
                                <button 
                                    className="image-generate-btn"
                                    onClick={generateImage}
                                    disabled={!imagePrompt.trim() || isGeneratingImage}
                                >
                                    {isGeneratingImage ? (
                                        <>
                                            <div className="spinner"></div>
                                            Generating...
                                        </>
                                    ) : (
                                        <>
                                            <Icon name="zap" size={18} />
                                            Generate Image
                                        </>
                                    )}
                                </button>

                                {imageError && (
                                    <div className="image-error-message">
                                        <Icon name="alertTriangle" size={16} />
                                        {imageError}
                                    </div>
                                )}
                            </div>

                            {/* Recent Generations */}
                            <div className="image-studio-card">
                                <h3 className="image-studio-card-title">
                                    <Icon name="clock" size={18} />
                                    Recent Generations
                                </h3>
                                <div className="recent-images">
                                    {imageHistory.length > 0 ? (
                                        imageHistory.slice(0, 6).map(image => (
                                            <div 
                                                key={image.id} 
                                                className="recent-image-item"
                                                onClick={() => setGeneratedImage(image.url)}
                                            >
                                                <img 
                                                    src={image.url} 
                                                    alt={image.prompt} 
                                                    className="recent-image-thumb"
                                                />
                                                <div className="recent-image-info">
                                                    <div className="recent-image-model">{image.model}</div>
                                                    <div className="recent-image-prompt">{image.prompt.slice(0, 30)}...</div>
                                                </div>
                                            </div>
                                        ))
                                    ) : (
                                        <div className="recent-image-placeholder">
                                            <Icon name="image" size={24} />
                                            <span>No recent images</span>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Right Panel - Preview */}
                        <div className="image-studio-preview">
                            {generatedImage ? (
                                <div className="image-preview-container">
                                    <img 
                                        src={generatedImage} 
                                        alt="Generated artwork" 
                                        className="generated-image"
                                    />
                                    <div className="image-actions">
                                        <button className="image-action-btn primary">
                                            <Icon name="download" size={16} />
                                            Download
                                        </button>
                                        <button className="image-action-btn">
                                            <Icon name="copy" size={16} />
                                            Copy URL
                                        </button>
                                        <button className="image-action-btn">
                                            <Icon name="share2" size={16} />
                                            Share
                                        </button>
                                        <button className="image-action-btn">
                                            <Icon name="edit" size={16} />
                                            Edit
                                        </button>
                                    </div>
                                </div>
                            ) : (
                                <div className="image-preview-placeholder">
                                    <div className="preview-icon">
                                        <Icon name="image" size={64} />
                                    </div>
                                    <h3>Your generated image will appear here</h3>
                                    <p>Enter a description and click generate to create stunning AI artwork</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );

            const renderVoiceCreator = () => (
                <div className="voice-creator-container">
                    {/* Header */}
                    <div className="voice-header">
                        <div className="voice-title-section">
                            <div className="voice-icon">
                                <Icon name="volume2" size={24} />
                            </div>
                            <div>
                                <h1 className="voice-title">Voice Creator</h1>
                                <p className="voice-subtitle">Advanced AI-powered voice synthesis and transcription</p>
                            </div>
                        </div>
                    </div>

                    {/* Tab Selection */}
                    <div className="voice-tabs">
                        <button 
                            className={`voice-tab ${voiceMode === 'tts' ? 'active' : ''}`}
                            onClick={() => setVoiceMode('tts')}
                        >
                            <Icon name="volume2" size={16} />
                            Text to Speech
                        </button>
                        <button 
                            className={`voice-tab ${voiceMode === 'stt' ? 'active' : ''}`}
                            onClick={() => setVoiceMode('stt')}
                        >
                            <Icon name="mic" size={16} />
                            Speech to Text
                        </button>
                    </div>

                    <div className="voice-content">
                        {/* Left Panel - Settings */}
                        <div className="voice-left-panel">
                            <div className="voice-settings-card">
                                <h3 className="voice-settings-title">
                                    <Icon name="settings" size={16} />
                                    Voice Settings
                                </h3>
                                
                                <div className="voice-setting-group">
                                    <label className="voice-label">Voice</label>
                                    <div className="voice-dropdown">
                                        <select 
                                            className="voice-select"
                                            value={selectedVoice}
                                            onChange={(e) => setSelectedVoice(e.target.value)}
                                        >
                                            {voices.map(voice => (
                                                <option key={voice.id} value={voice.id}>
                                                    {voice.name}
                                                </option>
                                            ))}
                                        </select>
                                        <div className="voice-description">
                                            {voices.find(v => v.id === selectedVoice)?.description}
                                        </div>
                                    </div>
                                </div>

                                <div className="voice-setting-group">
                                    <label className="voice-label">Speed</label>
                                    <select className="voice-select">
                                        <option value="0.5">0.5x - Very Slow</option>
                                        <option value="0.75">0.75x - Slow</option>
                                        <option value="1.0" selected>1.0x - Normal</option>
                                        <option value="1.25">1.25x - Fast</option>
                                        <option value="1.5">1.5x - Very Fast</option>
                                    </select>
                                </div>
                            </div>

                            <div className="voice-input-card">
                                <h3 className="voice-input-title">Text Input</h3>
                                <p className="voice-input-subtitle">Enter text to convert to speech</p>
                                
                                <textarea
                                    className="voice-textarea"
                                    value={voiceText}
                                    onChange={(e) => setVoiceText(e.target.value)}
                                    placeholder="Type or paste your text here..."
                                    disabled={isGeneratingVoice}
                                />
                                
                                <div className="voice-controls">
                                    <div className="character-count">
                                        {voiceText.length} characters
                                    </div>
                                    <button 
                                        className="voice-generate-btn"
                                        onClick={generateVoice}
                                        disabled={!voiceText.trim() || isGeneratingVoice}
                                    >
                                        {isGeneratingVoice ? (
                                            <>
                                                <div className="loading-spinner"></div>
                                                Generating...
                                            </>
                                        ) : (
                                            <>
                                                <Icon name="play" size={16} />
                                                Generate Speech
                                            </>
                                        )}
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Right Panel - Output */}
                        <div className="voice-right-panel">
                            <div className="audio-output-card">
                                <h3 className="audio-output-title">Audio Output</h3>
                                
                                {!generatedAudio ? (
                                    <div className="no-audio-state">
                                        <div className="audio-icon">
                                            <Icon name="volume2" size={48} />
                                        </div>
                                        <h4>No Audio Generated Yet</h4>
                                        <p>Enter text and generate speech to hear your AI voice</p>
                                    </div>
                                ) : (
                                    <div className="audio-player">
                                        <audio controls style={{width: '100%'}}>
                                            <source src={generatedAudio} type="audio/mpeg" />
                                        </audio>
                                    </div>
                                )}
                            </div>

                            <div className="recent-audio-card">
                                <div className="recent-header">
                                    <Icon name="clock" size={16} />
                                    <span>Recent Audio</span>
                                </div>
                                
                                <div className="recent-audio-list">
                                    <div className="audio-item">
                                        <div className="audio-item-icon">
                                            <Icon name="volume2" size={16} />
                                        </div>
                                        <div className="audio-item-info">
                                            <div className="audio-item-title">Welcome message</div>
                                            <div className="audio-item-meta">Alloy • 0:12</div>
                                        </div>
                                        <button className="audio-play-btn">
                                            <Icon name="play" size={14} />
                                        </button>
                                    </div>

                                    <div className="audio-item">
                                        <div className="audio-item-icon">
                                            <Icon name="volume2" size={16} />
                                        </div>
                                        <div className="audio-item-info">
                                            <div className="audio-item-title">Product demo script</div>
                                            <div className="audio-item-meta">Echo • 1:45</div>
                                        </div>
                                        <button className="audio-play-btn">
                                            <Icon name="play" size={14} />
                                        </button>
                                    </div>

                                    <div className="audio-item">
                                        <div className="audio-item-icon">
                                            <Icon name="volume2" size={16} />
                                        </div>
                                        <div className="audio-item-info">
                                            <div className="audio-item-title">Meeting transcription</div>
                                            <div className="audio-item-meta">Nova • 15:30</div>
                                        </div>
                                        <button className="audio-play-btn">
                                            <Icon name="play" size={14} />
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderCustomAssistants = () => (
                <div className="page-container">
                    <div className="page-header">
                        <div>
                            <h1 className="page-title">Custom Assistants</h1>
                            <p className="page-subtitle">Create and manage your AI assistants</p>
                        </div>
                        <button 
                            className="btn primary"
                            onClick={() => setIsCreatingAssistant(true)}
                        >
                            <Icon name="plus" size={16} />
                            Create Assistant
                        </button>
                    </div>

                    {isCreatingAssistant && (
                        <div className="form-card">
                            <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                                Create New Assistant
                            </h3>
                            
                            <div className="form-group">
                                <label className="form-label">Assistant Name</label>
                                <input
                                    className="form-input"
                                    value={newAssistant.name}
                                    onChange={(e) => setNewAssistant(prev => ({...prev, name: e.target.value}))}
                                    placeholder="e.g., Code Reviewer, Marketing Expert"
                                />
                            </div>
                            
                            <div className="form-group">
                                <label className="form-label">Description</label>
                                <input
                                    className="form-input"
                                    value={newAssistant.description}
                                    onChange={(e) => setNewAssistant(prev => ({...prev, description: e.target.value}))}
                                    placeholder="Brief description of what this assistant does"
                                />
                            </div>
                            
                            <div className="form-group">
                                <label className="form-label">System Prompt</label>
                                <textarea
                                    className="form-input form-textarea"
                                    value={newAssistant.prompt}
                                    onChange={(e) => setNewAssistant(prev => ({...prev, prompt: e.target.value}))}
                                    placeholder="Define the assistant's role, expertise, and behavior..."
                                    style={{minHeight: '120px'}}
                                />
                            </div>
                            
                            <div style={{display: 'flex', gap: '12px'}}>
                                <button 
                                    className="action-btn"
                                    onClick={createAssistant}
                                    disabled={!newAssistant.name.trim()}
                                >
                                    <Icon name="check" size={16} />
                                    Create Assistant
                                </button>
                                <button 
                                    className="btn"
                                    onClick={() => setIsCreatingAssistant(false)}
                                >
                                    <Icon name="x" size={16} />
                                    Cancel
                                </button>
                            </div>
                        </div>
                    )}

                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gap: '20px'}}>
                        {assistants.map(assistant => (
                            <div key={assistant.id} className="assistant-card">
                                <div className="assistant-avatar">
                                    {assistant.name.charAt(0).toUpperCase()}
                                </div>
                                <h4 style={{fontSize: '16px', fontWeight: '600', marginBottom: '8px'}}>
                                    {assistant.name}
                                </h4>
                                <p style={{color: '#64748b', fontSize: '14px', marginBottom: '12px'}}>
                                    {assistant.description}
                                </p>
                                <div style={{fontSize: '12px', color: '#64748b', marginBottom: '16px'}}>
                                    Created: {assistant.created}
                                </div>
                                <div style={{display: 'flex', gap: '8px'}}>
                                    <button className="btn" style={{fontSize: '12px', padding: '6px 12px'}}>
                                        <Icon name="messageCircle" size={14} />
                                        Chat
                                    </button>
                                    <button className="btn" style={{fontSize: '12px', padding: '6px 12px'}}>
                                        <Icon name="edit" size={14} />
                                        Edit
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const renderTeamManagement = () => (
                <div className="page-container">
                    <div className="page-header">
                        <div>
                            <h1 className="page-title">Team Management</h1>
                            <p className="page-subtitle">Manage your team members and their access</p>
                        </div>
                        <button className="btn primary">
                            <Icon name="userPlus" size={16} />
                            Invite Member
                        </button>
                    </div>

                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '24px', marginBottom: '32px'}}>
                        <div className="form-card" style={{textAlign: 'center'}}>
                            <Icon name="users" size={32} style={{color: '#06b6d4', margin: '0 auto 12px'}} />
                            <div style={{fontSize: '24px', fontWeight: '800', marginBottom: '4px'}}>
                                {teamMembers.length}
                            </div>
                            <div style={{color: '#64748b'}}>Team Members</div>
                        </div>
                        
                        <div className="form-card" style={{textAlign: 'center'}}>
                            <Icon name="crown" size={32} style={{color: '#f59e0b', margin: '0 auto 12px'}} />
                            <div style={{fontSize: '24px', fontWeight: '800', marginBottom: '4px'}}>
                                {teamMembers.filter(m => m.role === 'Owner').length}
                            </div>
                            <div style={{color: '#64748b'}}>Admins</div>
                        </div>
                        
                        <div className="form-card" style={{textAlign: 'center'}}>
                            <Icon name="user" size={32} style={{color: '#10b981', margin: '0 auto 12px'}} />
                            <div style={{fontSize: '24px', fontWeight: '800', marginBottom: '4px'}}>
                                {teamMembers.filter(m => m.status === 'online').length}
                            </div>
                            <div style={{color: '#64748b'}}>Active Today</div>
                        </div>
                    </div>

                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            Team Members
                        </h3>
                        
                        {teamMembers.map(member => (
                            <div key={member.id} className="list-item">
                                <div style={{display: 'flex', alignItems: 'center', gap: '12px'}}>
                                    <div style={{
                                        width: '40px', height: '40px', borderRadius: '50%',
                                        background: 'linear-gradient(135deg, #8b5cf6, #3b82f6)',
                                        display: 'flex', alignItems: 'center', justifyContent: 'center',
                                        color: 'white', fontWeight: '600', fontSize: '14px'
                                    }}>
                                        {member.name.split(' ').map(n => n[0]).join('')}
                                    </div>
                                    <div>
                                        <div style={{fontWeight: '600', display: 'flex', alignItems: 'center', gap: '8px'}}>
                                            {member.name}
                                            {member.role === 'Owner' && <Icon name="crown" size={14} style={{color: '#f59e0b'}} />}
                                        </div>
                                        <div style={{fontSize: '14px', color: '#64748b'}}>{member.email}</div>
                                        <div style={{fontSize: '12px', color: '#64748b'}}>
                                            Joined {member.joinDate}
                                        </div>
                                    </div>
                                </div>
                                <div style={{display: 'flex', alignItems: 'center', gap: '12px'}}>
                                    <span style={{
                                        padding: '4px 8px', borderRadius: '12px', fontSize: '12px',
                                        background: member.role === 'Owner' ? '#fef3c7' : '#e0e7ff',
                                        color: member.role === 'Owner' ? '#92400e' : '#3730a3'
                                    }}>
                                        {member.role}
                                    </span>
                                    <div style={{
                                        width: '8px', height: '8px', borderRadius: '50%',
                                        background: member.status === 'online' ? '#10b981' : '#6b7280'
                                    }}></div>
                                </div>
                            </div>
                        ))}

                        <div style={{marginTop: '24px', padding: '24px', textAlign: 'center', border: '2px dashed #e2e8f0', borderRadius: '12px'}}>
                            <Icon name="userPlus" size={32} style={{color: '#64748b', marginBottom: '12px'}} />
                            <h4 style={{fontWeight: '600', marginBottom: '8px'}}>Invite Team Members</h4>
                            <p style={{color: '#64748b', marginBottom: '16px'}}>Collaborate with your team by inviting members to your workspace</p>
                            
                            <div style={{display: 'flex', gap: '12px', maxWidth: '400px', margin: '0 auto'}}>
                                <input
                                    className="form-input"
                                    style={{flex: 1}}
                                    value={inviteEmail}
                                    onChange={(e) => setInviteEmail(e.target.value)}
                                    placeholder="email@example.com"
                                />
                                <select 
                                    className="form-input form-select"
                                    value={inviteRole}
                                    onChange={(e) => setInviteRole(e.target.value)}
                                    style={{width: '120px'}}
                                >
                                    <option value="member">Member</option>
                                    <option value="admin">Admin</option>
                                </select>
                                <button 
                                    className="btn primary"
                                    onClick={inviteTeamMember}
                                    disabled={!inviteEmail.trim()}
                                >
                                    <Icon name="send" size={16} />
                                    Invite
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderAISearch = () => (
                <div className="perplexity-search">
                    {/* Centered Search Interface */}
                    <div className={`search-container ${searchResults ? 'has-results' : ''}`}>
                        {!searchResults && (
                            <div className="search-header">
                                <div className="search-logo">
                                    <Icon name="search" size={32} />
                                </div>
                                <h1 className="search-title">AI Search</h1>
                                <p className="search-subtitle">Get AI-powered answers with real-time web search</p>
                            </div>
                        )}
                        
                        <div className="search-input-container">
                            <div className="search-input-wrapper">
                                <Icon name="search" size={20} className="search-input-icon" />
                                <input
                                    className="search-input"
                                    value={searchQuery}
                                    onChange={(e) => setSearchQuery(e.target.value)}
                                    onKeyPress={(e) => {
                                        if (e.key === 'Enter') {
                                            performSearch();
                                        }
                                    }}
                                    placeholder="Ask anything..."
                                    disabled={isSearching}
                                />
                                {searchQuery.trim() && (
                                    <button 
                                        onClick={performSearch}
                                        disabled={isSearching}
                                        className="search-submit-btn"
                                    >
                                        {isSearching ? (
                                            <div className="spinner"></div>
                                        ) : (
                                            <Icon name="send" size={16} />
                                        )}
                                    </button>
                                )}
                            </div>
                        </div>
                        
                        {!searchResults && (
                            <div className="search-suggestions">
                                <div className="suggestion-chips">
                                    {[
                                        "Latest AI developments",
                                        "Climate change 2024",
                                        "Best programming languages",
                                        "Space exploration news"
                                    ].map((suggestion, index) => (
                                        <button 
                                            key={index}
                                            className="suggestion-chip"
                                            onClick={() => {
                                                setSearchQuery(suggestion);
                                                setTimeout(() => performSearch(), 100);
                                            }}
                                        >
                                            {suggestion}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>

                    {searchResults && (
                        <div className="search-results">
                            {/* Loading State */}
                            {isSearching && (
                                <div className="search-loading">
                                    <div className="search-loading-content">
                                        <div className="search-loading-spinner"></div>
                                        <div className="search-loading-text">
                                            <div className="search-loading-title">Searching...</div>
                                            <div className="search-loading-subtitle">Finding the best sources and analyzing information</div>
                                        </div>
                                    </div>
                                </div>
                            )}
                            
                            {/* AI Response */}
                            {searchResults.synthesizedResponse && (
                                <div className="search-answer">
                                    <div className="search-answer-header">
                                        <Icon name="brain" size={18} />
                                        <span>Answer</span>
                                    </div>
                                    <div className="search-answer-content">
                                        {searchResults.synthesizedResponse}
                                    </div>
                                </div>
                            )}

                            {/* Sources */}
                            {searchResults.sources && searchResults.sources.length > 0 && (
                                <div className="search-sources">
                                    <div className="search-sources-header">
                                        <Icon name="link" size={16} />
                                        <span>Sources</span>
                                    </div>
                                    <div className="search-sources-grid">
                                        {searchResults.sources.slice(0, 8).map((source) => (
                                            <a
                                                key={source.index}
                                                href={source.link}
                                                target="_blank"
                                                rel="noopener noreferrer"
                                                className="search-source-card"
                                            >
                                                <div className="search-source-index">{source.index}</div>
                                                <div className="search-source-content">
                                                    <div className="search-source-title">{source.title}</div>
                                                    <div className="search-source-domain">{source.domain}</div>
                                                    <div className="search-source-snippet">{source.snippet?.slice(0, 120)}...</div>
                                                </div>
                                                <Icon name="externalLink" size={14} className="search-source-icon" />
                                            </a>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                </div>
            );


            const renderVideoCreator = () => (
                <div className="page-container">
                    <div className="page-header">
                        <h1 className="page-title">Video Creator</h1>
                        <p className="page-subtitle">AI-powered video generation and editing tools</p>
                    </div>
                    
                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px', display: 'flex', alignItems: 'center', gap: '8px'}}>
                            <Icon name="video" size={20} />
                            Create Video
                        </h3>
                        
                        <div className="form-group">
                            <label className="form-label">Video Script / Description</label>
                            <textarea
                                className="form-input form-textarea"
                                placeholder="Describe the video you want to create or paste your script..."
                                style={{minHeight: '120px'}}
                            />
                        </div>
                        
                        <div className="form-group">
                            <label className="form-label">Video Style</label>
                            <select className="form-input form-select">
                                <option value="realistic">Realistic</option>
                                <option value="animated">Animated</option>
                                <option value="documentary">Documentary</option>
                                <option value="commercial">Commercial</option>
                                <option value="educational">Educational</option>
                            </select>
                        </div>
                        
                        <div className="form-group">
                            <label className="form-label">Duration</label>
                            <select className="form-input form-select">
                                <option value="15">15 seconds</option>
                                <option value="30">30 seconds</option>
                                <option value="60">1 minute</option>
                                <option value="120">2 minutes</option>
                                <option value="300">5 minutes</option>
                            </select>
                        </div>
                        
                        <button className="generate-btn">
                            <Icon name="video" size={16} />
                            Generate Video
                        </button>

                        <div className="success-message" style={{marginTop: '16px'}}>
                            <Icon name="info" size={16} />
                            Video generation is powered by advanced AI models and may take several minutes to complete.
                        </div>
                    </div>
                </div>
            );

            const renderSettings = () => (
                <div className="page-container">
                    <div className="page-header">
                        <h1 className="page-title">Settings</h1>
                        <p className="page-subtitle">Manage your account and preferences</p>
                    </div>
                    
                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            Account Settings
                        </h3>
                        
                        <div className="form-group">
                            <label className="form-label">Full Name</label>
                            <input className="form-input" defaultValue="Jason Gordon" />
                        </div>
                        
                        <div className="form-group">
                            <label className="form-label">Email</label>
                            <input className="form-input" defaultValue="jason@jaydus.ai" />
                        </div>
                        
                        <div className="form-group">
                            <label className="form-label">Default AI Model</label>
                            <select className="form-input form-select">
                                <option value="fast">Jaydus 3-Fast</option>
                                <option value="pro">Jaydus 3-Pro</option>
                                <option value="max">Jaydus 3-Max</option>
                            </select>
                        </div>
                        
                        <button className="action-btn">
                            <Icon name="check" size={16} />
                            Save Changes
                        </button>
                    </div>

                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            API Management
                        </h3>
                        
                        <div className="list-item">
                            <div>
                                <div style={{fontWeight: '600'}}>OpenRouter API</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Connected and active</div>
                            </div>
                            <div style={{color: '#10b981'}}>●</div>
                        </div>
                        
                        <div className="list-item">
                            <div>
                                <div style={{fontWeight: '600'}}>OpenAI API</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Connected for voice features</div>
                            </div>
                            <div style={{color: '#10b981'}}>●</div>
                        </div>
                        
                        <div className="list-item">
                            <div>
                                <div style={{fontWeight: '600'}}>Luma Labs API</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Connected for image generation</div>
                            </div>
                            <div style={{color: '#10b981'}}>●</div>
                        </div>
                    </div>
                </div>
            );

            const renderBilling = () => (
                <div className="page-container">
                    <div className="page-header">
                        <h1 className="page-title">Billing</h1>
                        <p className="page-subtitle">Manage your subscription and usage</p>
                    </div>
                    
                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            Current Plan
                        </h3>
                        
                        <div style={{display: 'flex', alignItems: 'center', gap: '16px', marginBottom: '20px'}}>
                            <div style={{
                                width: '60px', height: '60px', borderRadius: '12px',
                                background: 'linear-gradient(135deg, #8b5cf6, #3b82f6)',
                                display: 'flex', alignItems: 'center', justifyContent: 'center'
                            }}>
                                <Icon name="crown" size={24} style={{color: 'white'}} />
                            </div>
                            <div>
                                <h4 style={{fontSize: '20px', fontWeight: '700', marginBottom: '4px'}}>Pro Plan</h4>
                                <p style={{color: '#64748b'}}>$29/month • Unlimited AI models</p>
                            </div>
                        </div>
                        
                        <div style={{display: 'flex', gap: '12px'}}>
                            <button className="btn">
                                <Icon name="creditCard" size={16} />
                                Update Payment
                            </button>
                            <button className="btn">
                                <Icon name="download" size={16} />
                                Download Invoice
                            </button>
                        </div>
                    </div>

                    <div className="form-card">
                        <h3 style={{fontSize: '18px', fontWeight: '700', color: '#0f172a', marginBottom: '16px'}}>
                            Usage This Month
                        </h3>
                        
                        <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '16px'}}>
                            <div style={{textAlign: 'center', padding: '16px'}}>
                                <Icon name="messageCircle" size={24} style={{color: '#06b6d4', marginBottom: '8px'}} />
                                <div style={{fontSize: '20px', fontWeight: '700'}}>{chatHistory.length}</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Chat Messages</div>
                            </div>
                            <div style={{textAlign: 'center', padding: '16px'}}>
                                <Icon name="image" size={24} style={{color: '#8b5cf6', marginBottom: '8px'}} />
                                <div style={{fontSize: '20px', fontWeight: '700'}}>{generatedImage ? 1 : 0}</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Images Generated</div>
                            </div>
                            <div style={{textAlign: 'center', padding: '16px'}}>
                                <Icon name="volume2" size={24} style={{color: '#f59e0b', marginBottom: '8px'}} />
                                <div style={{fontSize: '20px', fontWeight: '700'}}>0</div>
                                <div style={{fontSize: '14px', color: '#64748b'}}>Voice Minutes</div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderIntegrations = () => (
                <div className="page-container">
                    <div className="page-header">
                        <h1 className="page-title">Integrations</h1>
                        <p className="page-subtitle">Connect with your favorite tools and services</p>
                    </div>
                    
                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', gap: '20px'}}>
                        {[
                            {
                                name: 'Gmail', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTMwIDEwSDEwYy0yLjc2IDAtNSAyLjI0LTUgNXYxMGMwIDIuNzYgMi4yNCA1IDUgNWgyMGMyLjc2IDAgNS0yLjI0IDUtNVYxNWMwLTIuNzYtMi4yNC01LTUtNXoiIGZpbGw9IiNFQTQzMzUiLz48cGF0aCBkPSJtNSAxNSAyMCAxMCAyMC0xMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSJub25lIi8+PC9zdmc+',
                                description: 'Connect your Gmail account for email automation',
                                category: 'Communication'
                            },
                            {
                                name: 'Google Drive', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTIwIDVMMTAgMzVoMjBMMzAgNWgtMTB6IiBmaWxsPSIjNDBBNkZGIi8+PHBhdGggZD0iTTEwIDM1aDIwbDEwLTMwSDE2TDEwIDM1eiIgZmlsbD0iIzBEODRGRiIvPjwvc3ZnPg==',
                                description: 'Access and manage your Google Drive files',
                                category: 'Storage'
                            },
                            {
                                name: 'Slack', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzRBMTU0QiIvPjxyZWN0IHg9IjEwIiB5PSIxMCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0id2hpdGUiLz48L3N2Zz4=',
                                description: 'Integrate with Slack for team communication',
                                category: 'Communication'
                            },
                            {
                                name: 'Notion', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iYmxhY2siLz48cGF0aCBkPSJNMTAgMTBoMjB2MjBIMTBWMTB6IiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==',
                                description: 'Sync with Notion databases and pages',
                                category: 'Productivity'
                            },
                            {
                                name: 'GitHub', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiMyNDI5MkQiLz48cGF0aCBkPSJNMjAgOGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAzIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNi4xMTEuODItLjI2MS44Mi0uNTc3IDAtLjI4NS0uMDEtMS4wNC0uMDE1LTIuMDQtMy4zMzguNzI0LTQuMDQyLTEuNjEtNC4wNDItMS42MS0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU3LTEuMzMzLTEuNzU3LTEuMDktLjc0NS4wODMtLjczLjA4My0uNzMgMS4yMDUuMDg0IDEuODM4IDEuMjM2IDEuODM4IDEuMjM2IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwOC0uNzc2LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ni0xLjMzMy01LjQ2Ni01LjkzIDAtMS4zMTEuNDY5LTIuMzgxIDEuMjM2LTMuMjIxLS4xMjMtLjMwMy0uNTM1LTEuNTI0LjExNy0zLjE3NiAwIDAgMS4wMDgtLjMyMyAzLjMgMS4yMyIgZmlsbD0id2hpdGUiLz48L3N2Zz4=',
                                description: 'Connect to GitHub repositories and workflows',
                                category: 'Development'
                            },
                            {
                                name: 'Zapier', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iI0ZGNDYwMCIvPjxwYXRoIGQ9Ik0xMCAxNWgyMGwtMTAgMTAtMTAtMTB6IiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPg==',
                                description: 'Automate workflows with thousands of apps',
                                category: 'Automation'
                            },
                            {
                                name: 'Trello', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzAwNzlCRiIvPjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iOCIgaGVpZ2h0PSIxNiIgcng9IjIiIGZpbGw9IndoaXRlIi8+PHJlY3QgeD0iMjQiIHk9IjEyIiB3aWR0aD0iOCIgaGVpZ2h0PSIxMCIgcng9IjIiIGZpbGw9IndoaXRlIi8+PC9zdmc+',
                                description: 'Organize projects with Trello boards',
                                category: 'Productivity'
                            },
                            {
                                name: 'Airtable', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iI0ZCQzMwMiIvPjxwYXRoIGQ9Ik0xMCAxMGgyMHYyMEgxMFYxMHoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuOSIvPjwvc3ZnPg==',
                                description: 'Connect to Airtable databases',
                                category: 'Database'
                            },
                            {
                                name: 'Microsoft Teams', 
                                logo: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzQ4NUFCRiIvPjx0ZXh0IHg9IjIwIiB5PSIyNSIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VDwvdGV4dD48L3N2Zz4=',
                                description: 'Integrate with Microsoft Teams',
                                category: 'Communication'
                            }
                        ].map((integration, index) => (
                            <div key={index} className="integration-card">
                                <div className="integration-header">
                                    <img 
                                        src={integration.logo} 
                                        alt={integration.name}
                                        className="integration-logo"
                                    />
                                    <div className="integration-info">
                                        <h4 className="integration-name">{integration.name}</h4>
                                        <span className="integration-category">{integration.category}</span>
                                    </div>
                                </div>
                                <p className="integration-description">
                                    {integration.description}
                                </p>
                                <div className="integration-status">
                                    <span className="coming-soon-badge">Coming Soon</span>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const renderHelp = () => (
                <div className="page-container">
                    <div className="page-header">
                        <h1 className="page-title">Help Center</h1>
                        <p className="page-subtitle">Get help and learn how to use Jaydus AI</p>
                    </div>
                    
                    <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px'}}>
                        {[
                            {title: 'Getting Started', icon: '🚀', items: ['Quick Setup Guide', 'First AI Chat', 'Understanding Models']},
                            {title: 'Features', icon: '✨', items: ['AI Chat', 'Image Generation', 'Voice Creation', 'Code Analysis']},
                            {title: 'API Integration', icon: '🔌', items: ['API Keys Setup', 'Rate Limits', 'Best Practices']},
                            {title: 'Troubleshooting', icon: '🔧', items: ['Common Issues', 'Error Messages', 'Performance Tips']},
                            {title: 'Billing & Plans', icon: '💳', items: ['Subscription Plans', 'Usage Tracking', 'Payment Methods']},
                            {title: 'Security', icon: '🔒', items: ['Data Privacy', 'API Security', 'Team Permissions']}
                        ].map((section, index) => (
                            <div key={index} className="feature-card">
                                <div style={{fontSize: '48px', marginBottom: '16px'}}>{section.icon}</div>
                                <h4 style={{fontSize: '18px', fontWeight: '600', marginBottom: '12px'}}>
                                    {section.title}
                                </h4>
                                <ul style={{listStyle: 'none', padding: 0}}>
                                    {section.items.map((item, itemIndex) => (
                                        <li key={itemIndex} style={{
                                            padding: '4px 0', 
                                            color: '#64748b', 
                                            fontSize: '14px',
                                            cursor: 'pointer'
                                        }}>
                                            • {item}
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        ))}
                    </div>
                </div>
            );

            const renderContent = () => {
                switch (activeTab) {
                    case 'dashboard': return renderDashboard();
                    case 'chat': return renderChat();
                    case 'search': return renderAISearch();
                    case 'assistants': return renderCustomAssistants();
                    case 'image': return renderImageGenerator();
                    // video creator removed
                    case 'voice': return renderVoiceCreator();
                    case 'team': return renderTeamManagement();
                    case 'settings': return renderSettings();
                    case 'billing': return renderBilling();
                    case 'integrations': return renderIntegrations();
                    case 'help': return renderHelp();
                    default: return renderDashboard();
                }
            };

            // Authentication Form Component
            const renderAuthForm = () => (
                <div style={{
                    display: 'flex', alignItems: 'center', justifyContent: 'center', 
                    minHeight: '100vh', background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'
                }}>
                    <div style={{
                        background: 'white', padding: '40px', borderRadius: '16px', 
                        boxShadow: '0 20px 25px -5px rgba(0,0,0,0.1)', width: '400px', maxWidth: '90vw'
                    }}>
                        <div style={{textAlign: 'center', marginBottom: '32px'}}>
                            <div style={{
                                width: '80px', height: '80px',
                                borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center',
                                margin: '0 auto 20px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)'
                            }}>
                                <img 
                                    src="./jaydus-hub-logo.png" 
                                    alt="Jaydus AI" 
                                    style={{
                                        width: '80px', 
                                        height: '80px', 
                                        borderRadius: '50%',
                                        objectFit: 'cover'
                                    }} 
                                />
                            </div>
                            <h1 style={{fontSize: '28px', fontWeight: '700', color: '#1a1a1a', marginBottom: '8px'}}>
                                {authMode === 'reset' ? 'Reset Password' : 'Welcome to Jaydus AI'}
                            </h1>
                            <p style={{color: '#64748b', fontSize: '16px'}}>
                                {authMode === 'login' ? 'Sign in to your account' : 
                                 authMode === 'register' ? 'Create your account' : 
                                 'Enter your email to receive reset instructions'}
                            </p>
                        </div>

                        <form onSubmit={handleAuth}>
                            {authMode === 'register' && (
                                <div style={{marginBottom: '16px'}}>
                                    <label style={{display: 'block', fontWeight: '600', marginBottom: '8px', color: '#0f172a'}}>
                                        Full Name
                                    </label>
                                    <input
                                        type="text"
                                        value={fullName}
                                        onChange={(e) => setFullName(e.target.value)}
                                        className="form-input"
                                        required
                                        placeholder="Enter your full name"
                                    />
                                </div>
                            )}
                            
                            <div style={{marginBottom: '16px'}}>
                                <label style={{display: 'block', fontWeight: '600', marginBottom: '8px', color: '#0f172a'}}>
                                    Email Address
                                </label>
                                <input
                                    type="email"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    className="form-input"
                                    required
                                    placeholder="Enter your email"
                                />
                            </div>
                            
                            {authMode !== 'reset' && (
                                <div style={{marginBottom: '24px'}}>
                                    <label style={{display: 'block', fontWeight: '600', marginBottom: '8px', color: '#0f172a'}}>
                                        Password
                                    </label>
                                    <input
                                        type="password"
                                        value={password}
                                        onChange={(e) => setPassword(e.target.value)}
                                        className="form-input"
                                        required
                                        placeholder="Enter your password"
                                        minLength="8"
                                    />
                                </div>
                            )}
                            
                            {authError && (
                                <div className="error-message" style={{marginBottom: '16px'}}>
                                    <Icon name="alertTriangle" size={16} />
                                    {authError}
                                </div>
                            )}
                            
                            {resetSuccess && (
                                <div style={{
                                    background: '#f0fdf4', border: '1px solid #bbf7d0', 
                                    color: '#15803d', padding: '12px', borderRadius: '8px', 
                                    marginBottom: '16px', display: 'flex', alignItems: 'center', gap: '8px'
                                }}>
                                    <Icon name="checkCircle" size={16} />
                                    <span>{resetSuccess}</span>
                                </div>
                            )}
                            
                            <button 
                                type="submit"
                                disabled={authLoading}
                                style={{
                                    width: '100%', padding: '12px', background: 'linear-gradient(135deg, #06b6d4, #0891b2)',
                                    color: 'white', border: 'none', borderRadius: '8px', fontWeight: '600',
                                    cursor: 'pointer', fontSize: '16px', opacity: authLoading ? 0.7 : 1
                                }}
                            >
                                {authLoading ? 'Please wait...' : 
                                 authMode === 'login' ? 'Sign In' : 
                                 authMode === 'register' ? 'Create Account' : 
                                 'Send Reset Email'}
                            </button>
                        </form>
                        
                        <div style={{textAlign: 'center', marginTop: '24px'}}>
                            {authMode === 'login' && (
                                <div style={{marginBottom: '16px'}}>
                                    <button
                                        type="button"
                                        onClick={() => setAuthMode('reset')}
                                        style={{
                                            background: 'none', border: 'none', color: '#06b6d4',
                                            textDecoration: 'underline', cursor: 'pointer', fontSize: '14px'
                                        }}
                                    >
                                        Forgot password?
                                    </button>
                                </div>
                            )}
                            
                            {authMode === 'reset' ? (
                                <button
                                    type="button"
                                    onClick={() => setAuthMode('login')}
                                    style={{
                                        background: 'none', border: 'none', color: '#06b6d4',
                                        textDecoration: 'underline', cursor: 'pointer'
                                    }}
                                >
                                    Back to login
                                </button>
                            ) : (
                                <button
                                    type="button"
                                    onClick={() => setAuthMode(authMode === 'login' ? 'register' : 'login')}
                                    style={{
                                        background: 'none', border: 'none', color: '#06b6d4',
                                        textDecoration: 'underline', cursor: 'pointer'
                                    }}
                                >
                                    {authMode === 'login' ? 'Need an account? Sign up' : 'Already have an account? Sign in'}
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );

            if (showAuthForm || !isAuthenticated) {
                return renderAuthForm();
            }

            return (
                <div className="app">
                    <div className="sidebar">
                        <div className="logo">
                            <img 
                                src="./jaydus-logo.webp" 
                                alt="Jaydus AI" 
                                style={{
                                    height: '40px',
                                    width: 'auto',
                                    objectFit: 'contain'
                                }}
                                onError={(e) => {
                                    // Fallback to icon+text if image fails to load
                                    e.target.style.display = 'none';
                                    e.target.nextSibling.style.display = 'flex';
                                }}
                            />
                            <div style={{display: 'none', alignItems: 'center', gap: '12px'}}>
                                <div className="logo-icon">
                                    <Icon name="bot" size={16} style={{color: 'white'}} />
                                </div>
                                <div className="logo-text">jaydus.</div>
                            </div>
                        </div>

                        <div className="nav">
                            <div className="nav-label">Main</div>
                            {sidebarItems.map((item) => (
                                <div
                                    key={item.id}
                                    onClick={() => setActiveTab(item.id)}
                                    className={`nav-item ${activeTab === item.id ? 'active' : ''}`}
                                >
                                    <Icon name={item.icon} size={16} />
                                    <span>{item.label}</span>
                                </div>
                            ))}

                            <div style={{height: '1px', background: 'rgba(255,255,255,0.1)', margin: '16px 0'}}></div>
                            <div className="nav-label">Tools</div>
                            {bottomItems.map((item) => (
                                <div
                                    key={item.id}
                                    onClick={() => setActiveTab(item.id)}
                                    className={`nav-item ${activeTab === item.id ? 'active' : ''}`}
                                >
                                    <Icon name={item.icon} size={16} />
                                    <span>{item.label}</span>
                                </div>
                            ))}
                        </div>

                        <div className="sidebar-footer">
                            <div style={{width: '32px', height: '32px', background: 'linear-gradient(135deg, #8b5cf6, #3b82f6)', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '12px', fontWeight: '600'}}>
                                {user?.fullName?.charAt(0) || 'U'}
                            </div>
                            <div style={{flex: 1, minWidth: 0}}>
                                <div style={{fontSize: '14px', fontWeight: '600', color: 'white'}}>
                                    {user?.fullName || 'User'}
                                </div>
                                <div style={{fontSize: '12px', color: 'rgba(255,255,255,0.6)', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap'}}>
                                    {user?.email || 'user@jaydus.ai'}
                                </div>
                            </div>
                            <button
                                onClick={handleLogout}
                                style={{
                                    background: 'rgba(255,255,255,0.1)', border: 'none', color: 'white',
                                    padding: '8px', borderRadius: '6px', cursor: 'pointer',
                                    display: 'flex', alignItems: 'center', justifyContent: 'center'
                                }}
                                title="Logout"
                            >
                                <Icon name="x" size={14} />
                            </button>
                        </div>
                    </div>

                    <div className="main">
                        {renderContent()}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<JaydusAI />, document.getElementById('root'));
    </script>
</body>
</html>
